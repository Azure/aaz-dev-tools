(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{111:function(e,t,n){e.exports={root:"CheckNode_root__1Z7Lr",isSelected:"CheckNode_isSelected__GrtWt",expandIconWrapper:"CheckNode_expandIconWrapper__1yyX8",isOpen:"CheckNode_isOpen__9Tq-M",labelGridItem:"CheckNode_labelGridItem__2oyB4"}},185:function(e,t,n){e.exports={app:"App_app__3rYrH",treeRoot:"App_treeRoot__3HxeI",draggingSource:"App_draggingSource__2TCKP",dropTarget:"App_dropTarget__2WJl9",root:"App_root__3Q_F7"}},272:function(e,t,n){},588:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(49),i=n.n(o),s=n(180),c=n(21),l=(n(271),n(272),n(19)),d=n(22),u=n(23),j=n(24),p=n(1),m=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsx)(c.a,{})}}]),n}(a.Component),h=m,f=n(14),x=n(661),b=n(601),O=n(688),g=n(702),v=n(681),y=n(703),C=n(700),S=n(5),k=n(10),D=n(692),w=n(659),I=n(187),G=n(94),W=n(95),P=n(217),E=Object(I.a)({palette:{primary:{light:"#69696a",main:"#28282a",dark:"#1e1e1f"},secondary:{light:"#fff5f8",main:"#ff3366",dark:"#e62958"},info:{light:"#cccfff",main:"#5d64cf",dark:"#464c99"},warning:{main:"#ffc071",dark:"#ffb25e"},error:{light:G.a[50],main:G.a[500],dark:G.a[700]},success:{light:W.a[50],main:W.a[500],dark:W.a[700]}},typography:{fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:700}}),z={color:E.palette.text.primary,fontWeight:E.typography.fontWeightMedium,fontFamily:"'Roboto Condensed', sans-serif"},N=Object(k.a)(Object(k.a)({},E),{},{palette:Object(k.a)(Object(k.a)({},E.palette),{},{background:Object(k.a)(Object(k.a)({},E.palette.background),{},{default:E.palette.common.white,placeholder:P.a[200]})}),typography:Object(k.a)(Object(k.a)({},E.typography),{},{fontHeader:z,h1:Object(k.a)(Object(k.a)(Object(k.a)({},E.typography.h1),z),{},{letterSpacing:0,fontSize:60}),h2:Object(k.a)(Object(k.a)(Object(k.a)({},E.typography.h2),z),{},{fontSize:48}),h3:Object(k.a)(Object(k.a)(Object(k.a)({},E.typography.h3),z),{},{fontSize:42}),h4:Object(k.a)(Object(k.a)(Object(k.a)({},E.typography.h4),z),{},{fontSize:36}),h5:Object(k.a)(Object(k.a)({},E.typography.h5),{},{fontSize:20,fontWeight:E.typography.fontWeightLight}),h6:Object(k.a)(Object(k.a)(Object(k.a)({},E.typography.h6),z),{},{fontSize:18,fontWeight:E.typography.fontWeightRegular}),subtitle1:Object(k.a)(Object(k.a)({},E.typography.subtitle1),{},{fontSize:18}),body1:Object(k.a)(Object(k.a)({},E.typography.body1),{},{fontWeight:E.typography.fontWeightRegular,fontSize:16}),body2:Object(k.a)(Object(k.a)({},E.typography.body2),{},{fontSize:14})})});function T(e){return function(t){return Object(p.jsxs)(D.a,{theme:N,children:[Object(p.jsx)(w.a,{}),Object(p.jsx)(e,Object(k.a)({},t))]})}}var R=n(697),M=n(699),A=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){return Object(l.a)(this,n),t.call(this,e)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsx)("div",{children:Object(p.jsx)(R.a,{position:"fixed",children:Object(p.jsxs)(M.a,{sx:{justifyContent:"space-between",height:64},children:[Object(p.jsxs)(x.a,{sx:{flex:1,display:"flex",justifyContent:"flex-start",alignItems:"center"},children:[Object(p.jsx)(C.a,{variant:"h6",underline:"none",color:"inherit",href:"/?#/HomePage",fontWeight:"HomePage"==this.props.pageName?N.typography.fontWeightMedium:N.typography.fontWeightLight,children:"Home"}),Object(p.jsx)(x.a,{sx:{p:4}}),Object(p.jsx)(C.a,{variant:"h6",underline:"none",color:"inherit",href:"/?#/Workspace",fontWeight:"Workspace"==this.props.pageName?N.typography.fontWeightMedium:N.typography.fontWeightLight,children:"Workspace"}),Object(p.jsx)(x.a,{sx:{p:4}}),Object(p.jsx)(C.a,{variant:"h6",underline:"none",color:"inherit",href:"/?#/Generation",fontWeight:"Generation"==this.props.pageName?N.typography.fontWeightMedium:N.typography.fontWeightLight,children:"CLI"})]}),Object(p.jsx)(x.a,{sx:{flex:1,display:"flex",justifyContent:"flex-end"},children:Object(p.jsx)(C.a,{color:"inherit",variant:"h6",underline:"none",href:"/?#/Documents",fontWeight:"Documents"==this.props.pageName?N.typography.fontWeightMedium:N.typography.fontWeightLight,sx:{fontSize:16,color:"common.white",ml:3},children:"Docs"})})]})})})}}]),n}(a.Component),F=n(701),U=n(662),V=Object(S.a)(F.a)((function(e){return{color:e.theme.palette.common.white,position:"absolute",left:0,right:0,top:64,bottom:0,display:"flex",alignItems:"stretch",flexDirection:"row",justifyContent:"center"}})),L=Object(S.a)(U.a)({position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundRepeat:"no-repeat",zIndex:-2});function _(e){var t=e.children;return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(V,{children:t}),Object(p.jsx)(L,{})]})}var H=Object(S.a)(x.a)((function(e){e.theme;return{height:"6vh"}})),q=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:24,fontWeight:600}})),B=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}}));var K=T((function(){var e=a.useState(0),t=Object(f.a)(e,2),n=t[0],r=t[1],o=function(e){return function(){r(e)}};return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(A,{pageName:"HomePage"}),Object(p.jsx)(_,{children:Object(p.jsxs)(x.a,{sx:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[Object(p.jsx)(x.a,{sx:{flexGrow:3}}),Object(p.jsxs)(x.a,{sx:{flexGrow:3,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(p.jsx)(b.a,{variant:"h2",gutterBottom:!0,children:"Welcome to"}),Object(p.jsx)(b.a,{variant:"h2",gutterBottom:!0,children:"AAZ Development Tool"}),Object(p.jsx)(H,{}),Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"center"},children:[Object(p.jsx)(x.a,{sx:{width:350,display:"flex",flexDirection:"row-reverse",mr:3},children:Object(p.jsx)(q,{gutterBottom:!0,children:"Getting Started"})}),Object(p.jsx)(x.a,{sx:{width:450,ml:3},children:Object(p.jsxs)(O.a,{nonLinear:!0,activeStep:n,orientation:"vertical",children:[Object(p.jsxs)(g.a,{children:[Object(p.jsx)(v.a,{color:"inherit",onClick:o(0),children:"Introduce"}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(B,{children:"AAZDev is a tool that helps Azure CLI developers generate Atomic CLI commands from REST API Specifications."}),Object(p.jsxs)(B,{children:["Go to ",Object(p.jsx)(C.a,{href:"/?#/Documents",underline:"always",target:"_blank",children:"Introduction"})," for more details."]})]})]}),Object(p.jsxs)(g.a,{children:[Object(p.jsx)(v.a,{color:"inherit",onClick:o(1),children:"Prepare Swagger"}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(B,{children:"The definition of API in swagger is required before using AAZDev tool."}),Object(p.jsx)(B,{children:"Please make sure the API specs has been defined in "}),Object(p.jsxs)(B,{children:[Object(p.jsx)(C.a,{href:"https://github.com/Azure/azure-rest-api-specs",underline:"always",target:"_blank",children:"azure-rest-api-specs"})," repo or ",Object(p.jsx)(C.a,{href:"https://github.com/Azure/azure-rest-api-specs-pr",underline:"always",target:"_blank",children:"azure-rest-api-specs-pr"})," repo."]})]})]}),Object(p.jsxs)(g.a,{children:[Object(p.jsx)(v.a,{color:"inherit",onClick:o(2),children:"Build Command Models"}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(B,{children:"Model editors can help you build command models."}),Object(p.jsx)(B,{children:"To build command models from swagger,"}),Object(p.jsxs)(B,{children:["please use ",Object(p.jsx)(C.a,{href:"/?#/Workspace",align:"center",underline:"always",children:"Workspace"})," editor."]})]})]}),Object(p.jsxs)(g.a,{children:[Object(p.jsx)(v.a,{color:"inherit",onClick:o(3),children:"Generate CLI Code"}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(B,{children:"To convert command models to CLI code,"}),Object(p.jsxs)(B,{children:["please use ",Object(p.jsx)(C.a,{href:"/?#/Generation",align:"center",underline:"always",children:"CLI"})," generators."]})]})]})]})})]})]}),Object(p.jsx)(x.a,{sx:{flexGrow:5}})]})})]})})),Z=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsx)(a.Fragment,{children:Object(p.jsx)(c.a,{})})}}]),n}(a.Component),Y=T(Z),J=n(663),X=n(685),$=n(679),Q=n(710),ee=n(668),te=n(711),ne=n(712),ae=n(26),re=n.n(ae),oe=n(66),ie=Object(J.a)(),se="mgmt-plane",ce=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).loadWorkspaces=function(){re.a.get("/AAZ/Editor/Workspaces").then((function(e){var t=e.data.map((function(e){return{name:e.name,lastModified:new Date(1e3*e.updated),url:e.url,plane:e.plane,folder:e.folder}}));a.setState({options:t})})).catch((function(e){return console.error(e)}))},a.handleDialogSubmit=function(e){if(!0===e.currentTarget.checkValidity()){var t=a.state.createDialogValue.name,n=a.state.createDialogValue.plane;re.a.post("/AAZ/Editor/Workspaces",{name:t,plane:n}).then((function(e){var t=e.data,n={name:t.name,lastModified:new Date(1e3*t.updated),url:t.url,plane:t.plane,folder:t.folder};setTimeout((function(){a.onValueUpdated(n)})),a.handleDialogClose()})).catch((function(e){console.error(e.response)}))}},a.handleDialogClose=function(){a.setState({createDialogValue:{name:"",plane:null,lastModified:null,url:null,folder:null},openDialog:!1})},a.onValueUpdated=function(e){a.setState({value:e}),e.url&&(window.location.href="/?#/workspace/".concat(e.name))},a.state={options:[],value:null,openDialog:!1,createDialogValue:{name:"",plane:null,lastModified:null,url:null,folder:null}},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadWorkspaces()}},{key:"render",value:function(){var e=this,t=this.state,n=t.options,r=t.value,o=t.openDialog,i=t.createDialogValue,s=this.props.name;return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(X.a,{id:"workspace-select",value:r,sx:{width:280},options:n,autoHighlight:!0,onChange:function(t,n){"string"===typeof n?setTimeout((function(){e.setState({openDialog:!0,createDialogValue:{name:n,plane:se,lastModified:null,url:null,folder:null}})})):n&&n.inputValue?e.setState({openDialog:!0,createDialogValue:{name:n.inputValue,plane:se,lastModified:null,url:null,folder:null}}):e.onValueUpdated(n)},filterOptions:function(e,t){var n=ie(e,t);return""!==t.inputValue&&-1===e.findIndex((function(e){return e.name===t.inputValue}))&&n.push({inputValue:t.inputValue,title:'Create "'.concat(t.inputValue,'"')}),n},getOptionLabel:function(e){return"string"===typeof e?e:e.title?e.title:e.name},renderOption:function(e,t){var n=t&&t.title?t.title:t.name;return Object(p.jsx)(U.a,Object(k.a)(Object(k.a)({component:"li"},e),{},{children:n}))},selectOnFocus:!0,clearOnBlur:!0,renderInput:function(e){return Object(p.jsx)($.a,Object(k.a)(Object(k.a)({},e),{},{label:s,inputProps:Object(k.a)(Object(k.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}),Object(p.jsx)(Q.a,{open:o,onClose:this.handleDialogClose,children:Object(p.jsxs)(U.a,{component:"form",onSubmit:this.handleDialogSubmit,children:[Object(p.jsx)(ee.a,{children:"Create a new workspace"}),Object(p.jsx)(te.a,{children:Object(p.jsx)($.a,{autoFocus:!0,margin:"normal",id:"name",required:!0,value:i.name,onChange:function(t){e.setState({createDialogValue:Object(k.a)(Object(k.a)({},i),{},{name:t.target.value})})},label:"Name",type:"text",variant:"standard"})}),Object(p.jsxs)(ne.a,{children:[Object(p.jsx)(oe.b,{onClick:this.handleDialogClose,children:"Cancel"}),Object(p.jsx)(oe.b,{type:"submit",color:"success",children:"Create"})]})]})})]})}}]),n}(a.Component),le=Object(S.a)(x.a)((function(e){e.theme;return{height:"6vh"}})),de=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(A,{pageName:"Workspace"}),Object(p.jsx)(_,{children:Object(p.jsxs)(x.a,{sx:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[Object(p.jsx)(x.a,{sx:{flexGrow:3}}),Object(p.jsxs)(x.a,{sx:{flexGrow:3,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(p.jsx)(b.a,{variant:"h3",gutterBottom:!0,children:"Please select a Workspace"}),Object(p.jsx)(le,{}),Object(p.jsx)(ce,{name:"Open or create a workspace"})]}),Object(p.jsx)(x.a,{sx:{flexGrow:5}})]})})]})}}]),n}(a.Component),ue=de,je=n(62),pe=n.n(je),me=n(17),he=n(104),fe=n(4),xe=n(673),be=n(726),Oe=n(720),ge=n(694),ve=n(705),ye=n(707),Ce=n(709),Se=n(690),ke=n(669),De=n(713),we=n(687),Ie=n(714),Ge=n(693),We=n(715),Pe=n(221),Ee=n.n(Pe),ze=Object(S.a)(U.a)((function(e){return{color:e.theme.palette.common.white,position:"absolute",left:"6vh",right:"6vh",top:64,bottom:0,display:"flex",alignItems:"stretch",flexDirection:"row",justifyContent:"flex-start"}})),Ne=Object(S.a)(U.a)({position:"absolute",left:0,right:0,top:0,bottom:0,backgroundSize:"cover",backgroundRepeat:"no-repeat",zIndex:-2});function Te(e){var t=e.children;return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ze,{children:t}),Object(p.jsx)(Ne,{})]})}var Re=Object(S.a)(x.a)((function(e){e.theme;return{height:"2vh"}})),Me=Object(S.a)(x.a)((function(e){e.theme;return{height:"8vh"}})),Ae=["Generic(Get&Put) First","Patch First"],Fe=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).handleClose=function(){a.props.onClose(!1)},a.handleSubmit=function(){a.addSwagger()},a.loadSwaggerModules=function(e){re.a.get("/Swagger/Specs/".concat(e)).then((function(t){var n=t.data.map((function(e){return e.url}));a.setState((function(t){return Object(k.a)(Object(k.a)({},t),{},{moduleOptions:n,moduleOptionsCommonPrefix:"/Swagger/Specs/".concat(e,"/"),preModuleName:null})}))})).catch((function(e){return console.error(e.response)}))},a.loadResourceProviders=function(e){null!=e?re.a.get("".concat(e,"/ResourceProviders")).then((function(t){var n=t.data.map((function(e){return e.url})),r=1===n.length?n[0]:null;a.setState({resourceProviderOptions:n,resourceProviderOptionsCommonPrefix:"".concat(e,"/ResourceProviders/")}),a.onResourceProviderUpdate(r)})).catch((function(e){return console.error(e.response.message)})):(a.setState({resourceProviderOptions:[]}),a.onResourceProviderUpdate(null))},a.loadWorkspaceResources=function(){return re.a.get("/AAZ/Editor/Workspaces/".concat(a.props.workspaceName,"/CommandTree/Nodes/aaz/Resources")).then((function(e){var t=new Set;if(e.data&&Array.isArray(e.data)&&e.data.length>0){e.data[0].swagger.slice().replace("/ResourceProviders/"," ").split(" ");e.data.forEach((function(e){t.add(e.id)}))}a.setState({existingResources:t})})).catch((function(e){return console.error(e.response)}))},a.loadResources=function(e){null!=e?(a.setState({loading:!0}),re.a.get("".concat(e,"/Resources")).then((function(e){var t={},n=[],r={};e.data.forEach((function(e){r[e.id]=e,e.versions.map((function(e){return e.version})).forEach((function(a){a in t||(t[a]=[],n.push(a)),t[a].push(e.id)}))})),n.sort((function(e,t){return e.localeCompare(t)})).reverse();var o=null;n.length>0&&(o=n[0]),a.setState({loading:!1,versionResourceIdMap:t,resourceMap:r,versionOptions:n}),a.onVersionUpdate(o)})).catch((function(e){console.error(e.response),a.setState({loading:!1})}))):(a.setState({versionOptions:[]}),a.onVersionUpdate(null))},a.addSwagger=function(){var e=a.state,t=e.selectedResources,n=e.selectedVersion,r=e.selectedModule,o=e.moduleOptionsCommonPrefix,i=e.updateOption,s=e.resourceMap,c=[];t.forEach((function(e){var t={id:e,options:void 0};if(i===Ae[1]){var a,r=null===(a=s[e].versions.find((function(e){return e.version===n})))||void 0===a?void 0:a.operations;if(r)for(var o in r)if("patch"===r[o].toLowerCase()){t.options={update_by:"PatchOnly"};break}}c.push(t)}));var l={module:r.slice().replace(o,""),version:n,resources:c};a.setState({loading:!0}),re.a.post("/AAZ/Editor/Workspaces/".concat(a.props.workspaceName,"/CommandTree/Nodes/aaz/AddSwagger"),l).then((function(e){a.setState({loading:!1}),a.props.onClose(!0)})).catch((function(e){return console.error(e.response)}))},a.onModuleSelectorUpdate=function(e){a.state.selectedModule!=e&&a.loadResourceProviders(e),a.setState({selectedModule:e})},a.onResourceProviderUpdate=function(e){a.state.selectedResourceProvider!=e&&a.loadResources(e),a.setState({selectedResourceProvider:e})},a.onVersionUpdate=function(e){a.setState((function(t){var n=t.selectedResources,a=[];return null!=e&&(n=new Set,(a=Object(me.a)(t.versionResourceIdMap[e]).sort((function(e,t){return e.localeCompare(t)})).filter((function(e){return!t.existingResources.has(e)}))).forEach((function(e){t.selectedResources.has(e)&&n.add(e)}))),Object(k.a)(Object(k.a)({},t),{},{resourceOptions:a,selectedVersion:e,selectedResources:n})}))},a.onUpdateOptionUpdate=function(e){a.setState({updateOption:null!==e&&void 0!==e?e:Ae[0]})},a.onResourceItemClick=function(e){return function(){a.setState((function(t){var n=new Set(t.selectedResources);return n.has(e)?n.delete(e):t.existingResources.has(e)||n.add(e),Object(k.a)(Object(k.a)({},t),{},{selectedResources:n})}))}},a.state={loading:!1,existingResources:new Set,plane:a.props.plane,moduleOptionsCommonPrefix:"",resourceProviderOptionsCommonPrefix:"",moduleOptions:[],versionOptions:[],resourceProviderOptions:[],selectedResources:new Set,resourceOptions:[],versionResourceIdMap:{},resourceMap:{},selectedModule:null,selectedResourceProvider:null,selectedVersion:null,updateOptions:Ae,updateOption:Ae[0]},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.loadWorkspaceResources().then((function(){e.loadSwaggerModules(e.props.plane)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.selectedResources,r=t.existingResources,o=t.resourceOptions,i=t.selectedVersion,s=t.selectedModule;return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(R.a,{sx:{position:"fixed"},children:Object(p.jsxs)(M.a,{children:[Object(p.jsx)(ve.a,{edge:"start",color:"inherit",onClick:this.handleClose,"aria-label":"close",children:Object(p.jsx)(Ee.a,{})}),Object(p.jsx)(b.a,{sx:{ml:2,flex:1,flexDirection:"row",display:"flex",justifyContent:"center",alignContent:"center"},variant:"h5",component:"div",children:"Add Swagger Resources"})]})}),Object(p.jsxs)(Te,{children:[Object(p.jsxs)(x.a,{sx:{flexShrink:0,width:250,flexDirection:"column",display:"flex",alignItems:"stretch",justifyContent:"flex-start",marginRight:"3vh"},children:[Object(p.jsx)(ye.a,{children:" Swagger Filters"}),Object(p.jsx)(Re,{}),Object(p.jsx)(Ue,{name:"Swagger Module",commonPrefix:this.state.moduleOptionsCommonPrefix,options:this.state.moduleOptions,value:this.state.selectedModule,onValueUpdate:this.onModuleSelectorUpdate}),Object(p.jsx)(Re,{}),Object(p.jsx)(Ue,{name:"Resource Provider",commonPrefix:this.state.resourceProviderOptionsCommonPrefix,options:this.state.resourceProviderOptions,value:this.state.selectedResourceProvider,onValueUpdate:this.onResourceProviderUpdate}),Object(p.jsx)(Re,{}),Object(p.jsx)(Ue,{name:"API Version",commonPrefix:"",options:this.state.versionOptions,value:this.state.selectedVersion,onValueUpdate:this.onVersionUpdate}),Object(p.jsx)(Me,{}),Object(p.jsx)(Ue,{name:"Update Command Mode",commonPrefix:"",options:this.state.updateOptions,value:this.state.updateOption,onValueUpdate:this.onUpdateOptionUpdate}),Object(p.jsx)(Me,{}),Object(p.jsx)(ge.a,{variant:"contained",onClick:this.handleSubmit,disabled:null===s||null===i||n.size<1,children:"Submit"})]}),Object(p.jsx)(Ce.a,{dense:!0,sx:{flexGrow:1},subheader:Object(p.jsx)(ye.a,{children:"Resource Url"}),children:o.map((function(t){var a="resource-".concat(t);return Object(p.jsx)(Se.a,{disablePadding:!0,children:Object(p.jsxs)(ke.a,{dense:!0,onClick:e.onResourceItemClick(t),children:[Object(p.jsx)(De.a,{children:Object(p.jsx)(we.a,{edge:"start",checked:n.has(t)||r.has(t),tabIndex:-1,disableRipple:!0,inputProps:{"aria-labelledby":a}})}),Object(p.jsx)(Ie.a,{id:a,primary:t,primaryTypographyProps:{variant:"h6"}})]})},t)}))})]}),Object(p.jsx)(Ge.a,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:this.state.loading,children:Object(p.jsx)(We.a,{color:"inherit"})})]})}}]),n}(a.Component),Ue=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).state={value:1===a.props.options.length?a.props.options[0]:null},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.name,a=t.options,r=t.commonPrefix,o=t.value;return Object(p.jsx)(X.a,{id:n,value:o,options:a,onChange:function(t,n){e.props.onValueUpdate(n)},getOptionLabel:function(e){return e.replace(r,"")},renderOption:function(e,t){return Object(p.jsx)(x.a,Object(k.a)(Object(k.a)({component:"li"},e),{},{children:t.replace(r,"")}))},selectOnFocus:!0,clearOnBlur:!0,renderInput:function(e){return Object(p.jsx)($.a,Object(k.a)(Object(k.a)({},e),{},{size:"small",label:n,required:!0}))}})}}]),n}(a.Component),Ve=Fe,Le=n(695),_e=n(148),He=n.n(_e),qe=(Object(S.a)(U.a)((function(e){e.theme;return{height:"6vh"}})),function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.workspaceName,n=e.onHomePage,r=e.onGenerate;return Object(p.jsx)(a.Fragment,{children:Object(p.jsx)(R.a,{sx:{position:"fixed",zIndex:function(e){return e.zIndex.drawer+1}},children:Object(p.jsxs)(M.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:64},children:[Object(p.jsxs)(ve.a,{color:"inherit",onClick:n,"aria-label":"home",sx:{mr:2,flexShrink:0},children:[Object(p.jsx)(He.a,{sx:{mr:2}}),Object(p.jsx)(b.a,{variant:"h6",component:"div",color:"inherit",sx:{mr:2},children:"WORKSPACE"})]}),Object(p.jsx)(b.a,{variant:"h5",component:"div",color:"inherit",children:t}),Object(p.jsx)(U.a,{sx:{flexGrow:1}}),Object(p.jsx)(U.a,{sx:{flexShrink:0},children:Object(p.jsx)(Le.a,{title:"Export Command Models",children:Object(p.jsx)(ge.a,{variant:"outlined",color:"inherit",onClick:r,children:"Export"})})})]})})})}}]),n}(a.Component)),Be=qe,Ke=n(716),Ze=n(691),Ye=n(149),Je=n.n(Ye),Xe=n(150),$e=n.n(Xe),Qe=n(670),et=n(222),tt=n.n(et),nt=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:16,fontWeight:600}})),at=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNodeSelected=function(t,n){"string"===typeof n&&e.props.onSelected(n)},e.onNodeToggle=function(t,n){e.props.onToggle(n)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.commandTreeNodes,n=e.selected,r=e.onAdd,o=e.expanded,i=function e(t){var n=t.names[t.names.length-1];return Object(p.jsxs)(Ze.a,{nodeId:t.id,label:n,color:"inherit",children:[Array.isArray(t.leaves)?t.leaves.map((function(e){return function(e){var t=e.names[e.names.length-1];return Object(p.jsx)(Ze.a,{nodeId:e.id,label:t,color:"inherit"},e.id)}(e)})):null,Array.isArray(t.nodes)?t.nodes.map((function(t){return e(t)})):null]},t.id)};return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsxs)(x.a,{sx:{mt:2,ml:4,mr:2,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[Object(p.jsx)(nt,{children:"Command Tree"}),Object(p.jsx)(x.a,{sx:{flexGrow:1}}),Object(p.jsx)(Le.a,{title:"Add from Swagger",children:Object(p.jsx)(ve.a,{color:"info",onClick:r,"aria-label":"add",children:Object(p.jsx)(tt.a,{})})})]}),Object(p.jsx)(Ke.a,{defaultCollapseIcon:Object(p.jsx)(Je.a,{}),defaultExpandIcon:Object(p.jsx)($e.a,{}),onNodeSelect:this.onNodeSelected,onNodeToggle:this.onNodeToggle,selected:n,expanded:o,sx:{flexGrow:1,overflowY:"auto",mt:1,ml:3,mr:3},children:t.map((function(e){return i(e)}))})]})}}]),n}(a.Component),rt=at,ot=n(717),it=n(718),st=n(719),ct=n(683),lt=n(689),dt=n(696),ut=n(721),jt=n(684),pt=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:18,fontWeight:400}})),mt=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:32,fontWeight:700}})),ht=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:18,fontWeight:400,fontStyle:"italic"}})),ft=Object(Qe.a)(ht)((function(e){e.theme;return{color:"#5d64cf"}})),xt=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:16,fontWeight:400}})),bt=Object(Qe.a)(b.a)((function(e){e.theme;return{color:"#67b349",fontFamily:"'Work Sans', sans-serif",fontSize:20,fontWeight:200}})),Ot=Object(Qe.a)(bt)((function(e){e.theme;return{color:"#d1b102"}})),gt=Object(Qe.a)(bt)((function(e){e.theme;return{color:"#e05376"}})),vt=(Object(Qe.a)(bt)((function(e){e.theme;return{fontSize:12}})),Object(Qe.a)(Ot)((function(e){e.theme;return{fontSize:12}}))),yt=Object(Qe.a)(gt)((function(e){e.theme;return{fontSize:12}})),Ct=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:700}})),St=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onCommandGroupDialogDisplay=function(){a.setState({displayCommandGroupDialog:!0})},a.onCommandGroupDeleteDialogDisplay=function(){a.setState({displayCommandGroupDeleteDialog:!0})},a.handleCommandGroupDialogClose=function(e){a.setState({displayCommandGroupDialog:!1}),e&&a.props.onUpdateCommandGroup(e)},a.handleCommandGroupDeleteDialogClose=function(e){a.setState({displayCommandGroupDeleteDialog:!1}),e&&a.props.onUpdateCommandGroup(null)},a.state={displayCommandGroupDialog:!1,displayCommandGroupDeleteDialog:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var e,t,n,r,o,i=this.props,s=i.workspaceUrl,c=i.commandGroup,l="az "+this.props.commandGroup.names.join(" "),d=null===(e=this.props.commandGroup.help)||void 0===e?void 0:e.short,u=null===(t=this.props.commandGroup.help)||void 0===t||null===(n=t.lines)||void 0===n?void 0:n.join("\n"),j=null!==(r=null===(o=this.props.commandGroup.help)||void 0===o?void 0:o.lines)&&void 0!==r?r:[],m=this.props.commandGroup.stage,h=this.state,f=h.displayCommandGroupDialog,O=h.displayCommandGroupDeleteDialog;return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(x.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:Object(p.jsxs)(ot.a,{elevation:3,sx:{flexGrow:1,display:"flex",flexDirection:"column",p:2},children:[Object(p.jsxs)(it.a,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"stretch"},children:[Object(p.jsxs)(x.a,{sx:{mb:2,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(p.jsx)(b.a,{variant:"h6",sx:{flexShrink:0},children:"[ GROUP ]"}),Object(p.jsx)(x.a,{sx:{flexGrow:1}}),"Stable"===m&&Object(p.jsx)(bt,{sx:{flexShrink:0},children:m}),"Preview"===m&&Object(p.jsx)(Ot,{sx:{flexShrink:0},children:m}),"Experimental"===m&&Object(p.jsx)(gt,{sx:{flexShrink:0},children:m})]}),Object(p.jsx)(mt,{sx:{mt:1},children:l}),d&&Object(p.jsxs)(ht,{sx:{ml:6,mt:2},children:[" ",d," "]}),!d&&Object(p.jsx)(ft,{sx:{ml:6,mt:2},children:"Please add command group short summery!"}),u&&Object(p.jsx)(x.a,{sx:{ml:6,mt:1,mb:1},children:j.map((function(e,t){return Object(p.jsx)(xt,{children:e},t)}))})]}),Object(p.jsx)(st.a,{sx:{display:"flex",flexDirection:"row-reverse",alignContent:"center",justifyContent:"flex-start"},children:Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"flex-start"},children:[Object(p.jsx)(ge.a,{variant:"contained",size:"small",color:"info",disableElevation:!0,onClick:this.onCommandGroupDialogDisplay,children:Object(p.jsx)(b.a,{variant:"body2",children:"Edit"})}),Object(p.jsx)(ge.a,{variant:"outlined",size:"small",color:"info",onClick:this.onCommandGroupDeleteDialogDisplay,disabled:!this.props.commandGroup.canDelete,sx:{ml:2},children:Object(p.jsx)(b.a,{variant:"body2",children:"Delete"})})]})})]})}),f&&Object(p.jsx)(Dt,{open:f,workspaceUrl:s,commandGroup:c,onClose:this.handleCommandGroupDialogClose}),O&&Object(p.jsx)(kt,{open:O,workspaceUrl:s,commandGroup:c,onClose:this.handleCommandGroupDeleteDialogClose})]})}}]),n}(a.Component);function kt(e){var t=a.useState(!1),n=Object(f.a)(t,2),r=n[0],o=n[1];return Object(p.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,children:[Object(p.jsx)(ee.a,{children:"Delete Command Group"}),Object(p.jsx)(te.a,{dividers:!0,children:Object(p.jsx)(b.a,{variant:"body2",children:"".concat("az ").concat(e.commandGroup.names.join(" "))})}),Object(p.jsxs)(ne.a,{children:[r&&Object(p.jsx)(x.a,{sx:{width:"100%"},children:Object(p.jsx)(Oe.a,{color:"info"})}),!r&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ge.a,{onClick:function(){e.onClose(!1)},children:"Cancel"}),Object(p.jsx)(ge.a,{onClick:function(){var t="".concat(e.workspaceUrl,"/CommandTree/Nodes/aaz/")+e.commandGroup.names.join("/");o(!0),re.a.delete(t).then((function(t){o(!1),e.onClose(!0)})).catch((function(e){o(!1),console.error(e.response)}))},children:"Delete"})]})]})]})}var Dt=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a,r,o,i,s,c;return Object(l.a)(this,n),(c=t.call(this,e)).handleModify=function(e){var t=c.state,n=t.name,a=t.stage,r=t.shortHelp,o=t.longHelp,i=c.props,s=i.workspaceUrl,l=i.commandGroup;n=n.trim(),r=r.trim(),o=o.trim();var d=n.split(" ").filter((function(e){return e.length>0}));if(c.setState({invalidText:void 0}),d.length<1)c.setState({invalidText:"Field 'Name' is required."});else{for(var u in d){var j=d[u];if(!/^[a-z0-9]+(\-[a-z0-9]+)*$/.test(j))return void c.setState({invalidText:"Invalid Name part: '".concat(j,"'. Supported regular expression is: [a-z0-9]+(-[a-z0-9]+)* ")})}r.length<1&&c.setState({invalidText:"Field 'Short Summery' is required."});var p=null;o.length>1&&(p=o.split("\n").filter((function(e){return e.length>0}))),c.setState({updating:!0});var m="".concat(s,"/CommandTree/Nodes/aaz/")+l.names.join("/");re.a.patch(m,{help:{short:r,lines:p},stage:a}).then((function(e){var t=d.join(" ");if(t===l.names.join(" ")){var n=wt(e.data);c.setState({updating:!1}),c.props.onClose(n)}else re.a.post("".concat(m,"/Rename"),{name:t}).then((function(e){var t=wt(e.data);c.setState({updating:!1}),c.props.onClose(t)}))})).catch((function(e){var t;console.error(e.response),(null===(t=e.resource)||void 0===t?void 0:t.message)&&c.setState({invalidText:"ResponseError: ".concat(e.resource.message)}),c.setState({updating:!1})}))}},c.handleClose=function(){c.setState({invalidText:void 0}),c.props.onClose()},c.state={name:c.props.commandGroup.names.join(" "),shortHelp:null!==(a=null===(r=c.props.commandGroup.help)||void 0===r?void 0:r.short)&&void 0!==a?a:"",longHelp:null!==(o=null===(i=c.props.commandGroup.help)||void 0===i||null===(s=i.lines)||void 0===s?void 0:s.join("\n"))&&void 0!==o?o:"",stage:c.props.commandGroup.stage,updating:!1},c}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.shortHelp,o=t.longHelp,i=t.invalidText,s=t.updating,c=t.stage;return Object(p.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:this.props.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[Object(p.jsx)(ee.a,{children:"Command Group"}),Object(p.jsxs)(te.a,{dividers:!0,children:[i&&Object(p.jsxs)(ct.a,{variant:"filled",severity:"error",children:[" ",i," "]}),Object(p.jsx)(lt.a,{required:!0,shrink:!0,sx:{font:"inherit"},children:"Stage"}),Object(p.jsxs)(dt.a,{row:!0,value:c,name:"stage",onChange:function(t){e.setState({stage:t.target.value})},children:[Object(p.jsx)(ut.a,{value:"Stable",control:Object(p.jsx)(jt.a,{}),label:"Stable",sx:{ml:4}}),Object(p.jsx)(ut.a,{value:"Preview",control:Object(p.jsx)(jt.a,{}),label:"Preview",sx:{ml:4}}),Object(p.jsx)(ut.a,{value:"Experimental",control:Object(p.jsx)(jt.a,{}),label:"Experimental",sx:{ml:4}})]}),Object(p.jsx)($.a,{id:"name",label:"Name",type:"text",fullWidth:!0,variant:"standard",value:n,onChange:function(t){e.setState({name:t.target.value})},margin:"normal",required:!0}),Object(p.jsx)($.a,{id:"shortSummery",label:"Short Summery",type:"text",fullWidth:!0,variant:"standard",value:r,onChange:function(t){e.setState({shortHelp:t.target.value})},margin:"normal",required:!0}),Object(p.jsx)($.a,{id:"longSummery",label:"Long Summery",helperText:"Please add long summer in lines.",type:"text",fullWidth:!0,multiline:!0,variant:"standard",value:o,onChange:function(t){e.setState({longHelp:t.target.value})},margin:"normal"})]}),Object(p.jsxs)(ne.a,{children:[s&&Object(p.jsx)(x.a,{sx:{width:"100%"},children:Object(p.jsx)(Oe.a,{color:"info"})}),!s&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ge.a,{onClick:this.handleClose,children:"Cancel"}),Object(p.jsx)(ge.a,{onClick:this.handleModify,children:"Save"})]})]})]})}}]),n}(a.Component),wt=function(e){var t;return{id:"group:"+e.names.join("/"),names:e.names,help:e.help,stage:null!==(t=e.stage)&&void 0!==t?t:"Stable",canDelete:!0}},It=St,Gt=n(723),Wt=n(724),Pt=n(594),Et=n(725),zt=n(722),Nt=n(227),Tt=n.n(Nt),Rt=n(228),Mt=n.n(Rt),At=n(225),Ft=n.n(At),Ut=n(224),Vt=n.n(Ut),Lt=n(599),_t=n(223),Ht=n.n(_t);function qt(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),o=n[0],i=n[1],s=function t(n){if(n.type.startsWith("@"))return t(e.clsArgDefineMap[n.clsName]);if("object"===n.type)return{title:"Props",props:n.args};if(n.type.startsWith("dict<")){var a=t(n.item);if(!a)return;return{title:"Dict Element Props",props:a.props}}if(n.type.startsWith("array<")){var r=t(n.item);if(!r)return;return{title:"Array Element Props",props:r.props}}},c=function(t){if(0!==t.length){var n=Object(me.a)(e.args),a=void 0,r=function(e){var r,o,i=t[e].var;if(!(a=n.find((function(e){return e.var===i}))))return"break";n=null!==(r=null===(o=s(a))||void 0===o?void 0:o.props)&&void 0!==r?r:[]};for(var o in t){if("break"===r(o))break}return a}};Object(a.useEffect)((function(){i([])}),[e.commandUrl]),Object(a.useEffect)((function(){for(var e=Object(me.a)(o);e.length>0&&!c(e);)e.pop();i(e)}),[e.args,e.clsArgDefineMap]);var l=function(t){var n;if(o.length>0){var a,r=c(o);if(!r)return;n=null===(a=s(r))||void 0===a?void 0:a.props.find((function(e){return e.var===t}))}else n=e.args.find((function(e){return e.var===t}));if(n){var l={var:n.var,displayKey:n.options[0]};0===o.length&&(1===l.displayKey.length?l.displayKey="-".concat(l.displayKey):l.displayKey="--".concat(l.displayKey));var d=n.type;d.startsWith("@")&&(d=e.clsArgDefineMap[n.clsName].type),d.startsWith("dict<")?l.displayKey+="{}":d.startsWith("array<")&&(l.displayKey+="[]"),i([].concat(Object(me.a)(o),[l]))}},d=function(e){i(o.slice(0,e))};return Object(p.jsxs)(r.a.Fragment,{children:[o.length>0&&Object(p.jsx)(r.a.Fragment,{children:function(){var e=c(o);if(!e)return Object(p.jsx)(p.Fragment,{});var t=e.stage;return Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(p.jsx)(Zt,{argIdxStack:o,onChangeArgIdStack:d}),"Stable"===t&&Object(p.jsx)(bt,{sx:{flexShrink:0},children:t}),"Preview"===t&&Object(p.jsx)(Ot,{sx:{flexShrink:0},children:t}),"Experimental"===t&&Object(p.jsx)(gt,{sx:{flexShrink:0},children:t})]}),Object(p.jsx)(Qt,{arg:e,depth:o.length})]})}()}),Object(p.jsx)(r.a.Fragment,{children:function(){if(0===o.length)return 0===e.args.length?Object(p.jsx)(p.Fragment,{}):Object(p.jsx)(on,{title:"Argument Groups",args:e.args,depth:o.length,onSelectSubArg:l});var t=c(o);if(!t)return Object(p.jsx)(p.Fragment,{});var n=s(t);return n?Object(p.jsx)(on,{title:n.title,args:n.props,depth:o.length,onSelectSubArg:l}):Object(p.jsx)(p.Fragment,{})}()})]})}var Bt=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}})),Kt=Object(Qe.a)(Bt)((function(e){e.theme;return{color:"#5d64cf"}}));function Zt(e){return Object(p.jsx)(r.a.Fragment,{children:Object(p.jsxs)(x.a,{sx:{flexGrow:1,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",mt:1,mb:.5,mr:2},children:[Object(p.jsx)(Lt.a,{onClick:function(){e.onChangeArgIdStack(0)},children:Object(p.jsx)(Ht.a,{sx:{fontSize:14}})},"Back"),e.argIdxStack.slice(0,-1).map((function(t,n){return Object(p.jsx)(Lt.a,{onClick:function(){e.onChangeArgIdStack(n+1)},children:Object(p.jsx)(Bt,{sx:{flexShrink:0},children:n>0?".".concat(t.displayKey):t.displayKey})},"".concat(n))})),Object(p.jsx)(Lt.a,{onClick:function(){e.onChangeArgIdStack(e.argIdxStack.length)},children:Object(p.jsx)(Kt,{sx:{flexShrink:0},children:e.argIdxStack.length>1?".".concat(e.argIdxStack[e.argIdxStack.length-1].displayKey):e.argIdxStack[e.argIdxStack.length-1].displayKey})},"".concat(e.argIdxStack.length-1))]})})}var Yt=function(e,t){return e.options.map((function(e){return 0===t?1===e.length?"-"+e:"--"+e:"."+e})).join(" ")},Jt=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:26,fontWeight:700}})),Xt=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:700}})),$t=Object(Qe.a)(b.a)((function(e){e.theme;return{color:"#fad105",fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:200}}));function Qt(e){var t,n,a,o;return Object(p.jsx)(r.a.Fragment,{children:Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",mt:1,mb:2},children:[function(){var t=Yt(e.arg,e.depth-1);return Object(p.jsx)(Jt,{children:t})}(),Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"flex-start",ml:6},children:[Object(p.jsx)(Xt,{children:"/".concat(e.arg.type,"/")}),Object(p.jsx)(x.a,{sx:{flexGrow:1}}),e.arg.required&&Object(p.jsx)($t,{children:"[Required]"})]}),(null===(t=e.arg.help)||void 0===t?void 0:t.short)&&Object(p.jsxs)(ht,{sx:{ml:6,mt:1.5},children:[" ",null===(n=e.arg.help)||void 0===n?void 0:n.short," "]}),!(null===(a=e.arg.help)||void 0===a?void 0:a.short)&&Object(p.jsx)(ft,{sx:{ml:6,mt:2},children:"Please add argument short summery!"}),(null===(o=e.arg.help)||void 0===o?void 0:o.lines)&&Object(p.jsx)(x.a,{sx:{ml:6,mt:1,mb:1},children:e.arg.help.lines.map((function(e,t){return Object(p.jsx)(xt,{children:e},t)}))})]})})}var en=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:10,fontWeight:400}})),tn=Object(Qe.a)(b.a)((function(e){e.theme;return{color:"#dba339",fontFamily:"'Work Sans', sans-serif",fontSize:10,fontWeight:400}})),nn=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:18,fontWeight:200}})),an=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:700}})),rn=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:14,fontStyle:"italic",fontWeight:400}}));function on(e){var t={};e.args.forEach((function(e){var n=e.group.length>0?e.group:"";n in t||(t[n]=[]),t[n].push(e)}));var n=[];for(var a in t)t[a].sort((function(e,t){return e.required&&!t.required?-1:!e.required&&t.required?1:e.options[0].localeCompare(t.options[0])})),n.push({name:a,args:t[a]});n.sort((function(e,t){return e.name.localeCompare(t.name)}));var o=function(t,n){var a=Yt(t,e.depth);return Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",mb:2},children:[Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-end",justifyContent:"flex-start"},children:[Object(p.jsx)(Lt.a,{onClick:function(){e.onSelectSubArg(t.var)},children:Object(p.jsx)(an,{sx:{flexShrink:0},children:a})}),Object(p.jsx)(x.a,{sx:{flexGrow:1}}),"Preview"===t.stage&&Object(p.jsx)(vt,{sx:{flexShrink:0},children:t.stage}),"Experimental"===t.stage&&Object(p.jsx)(yt,{sx:{flexShrink:0},children:t.stage})]}),Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(p.jsxs)(x.a,{sx:{width:300,flexShrink:0,flexDirection:"row",display:"flex",alignItems:"center"},children:[Object(p.jsx)(en,{sx:{flexShrink:0},children:"/".concat(t.type,"/")}),Object(p.jsx)(x.a,{sx:{flexGrow:1}}),t.required&&Object(p.jsx)(tn,{children:"[Required]"})]}),t.help&&Object(p.jsx)(x.a,{sx:{ml:4},children:Object(p.jsx)(rn,{children:t.help.short})})]})]},"group-arg-".concat(n))};return Object(p.jsxs)(r.a.Fragment,{children:[Object(p.jsx)(x.a,{sx:{p:2},children:Object(p.jsx)(Ct,{children:e.title})}),n.map((function(e,t){return Object(p.jsxs)(x.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",ml:2,mr:2,mb:1},children:[Object(p.jsx)(x.a,{sx:{flexShrink:0,ml:2,p:1},children:Object(p.jsx)(nn,{id:"argGroup-".concat(t,"-header"),children:e.name.length>0?"".concat(e.name," Group"):"Default Group"})}),Object(p.jsx)(x.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",ml:3,mr:3},children:e.args.map(o)})]},"group-".concat(t))}))]})}function sn(e){return{items:e.items.map((function(e){return function(e){var t;return{name:e.name,hide:null!==(t=e.hide)&&void 0!==t&&t,value:e.value}}(e)}))}}function cn(e){var t={type:e.type},n={};switch(e.type){case"byte":case"binary":case"duration":case"date":case"dateTime":case"uuid":case"password":case"SubscriptionId":case"ResourceGroupName":case"ResourceId":case"ResourceLocation":case"string":case"integer32":case"integer64":case"integer":case"float32":case"float64":case"float":e.enum&&(t=Object(k.a)(Object(k.a)({},t),{},{enum:sn(e.enum)}));break;case"boolean":break;case"object":if(e.args&&Array.isArray(e.args)&&e.args.length>0){var a=e.args.map((function(e){var t=ln(e);return n=Object(k.a)(Object(k.a)({},n),t.clsDefineMap),t.arg}));t=Object(k.a)(Object(k.a)({},t),{},{args:a})}else{if(!e.additionalProps||!e.additionalProps.item)throw Error("Invalid object arguments, neither args nor additionalProps exist");var r=cn(e.additionalProps.item);n=Object(k.a)(Object(k.a)({},n),r.clsDefineMap);var o="dict<string, ".concat(r.argBase.type,">");t=Object(k.a)(Object(k.a)({},t),{},{type:o,item:r.argBase})}if(e.cls){var i=e.cls;n[i]=t,t={type:"@".concat(e.cls),clsName:i}}break;default:if(e.type.startsWith("array<")){if(!e.item)throw Error("Invalid array object. Item is not defined");var s=cn(e.item);if(n=Object(k.a)(Object(k.a)({},n),s.clsDefineMap),t=Object(k.a)(Object(k.a)({},t),{},{item:s.argBase}),e.cls){var c=e.cls;n[c]=t,t={type:"@".concat(e.cls),clsName:c}}}else{if(!e.type.startsWith("@"))throw console.error("Unknown type '".concat(e.type,"'")),Error("Unknown type '".concat(e.type,"'"));t.clsName=e.type.slice(1)}}return{argBase:t,clsDefineMap:n}}function ln(e){var t,n,a,r,o=cn(e),i=o.argBase,s=o.clsDefineMap,c=e.options.sort((function(e,t){return e.length-t.length})).reverse(),l=e.help?function(e){return{short:e.short,lines:e.lines,refCommands:e.refCommands}}(e.help):void 0,d=Object(k.a)(Object(k.a)({},i),{},{var:e.var,options:c,required:null!==(t=e.required)&&void 0!==t&&t,stage:null!==(n=e.stage)&&void 0!==n?n:"Stable",hide:null!==(a=e.hide)&&void 0!==a&&a,group:null!==(r=e.group)&&void 0!==r?r:"",help:l,default:e.default,blank:e.blank,idPart:e.idPart});switch(i.type){case"byte":case"binary":case"duration":case"date":case"dateTime":case"uuid":case"password":case"SubscriptionId":case"ResourceGroupName":case"ResourceId":case"ResourceLocation":case"string":case"integer32":case"integer64":case"integer":case"float32":case"float64":case"float":case"boolean":case"object":break;default:if(i.type.startsWith("dict<"));else if(i.type.startsWith("array<"))e.singularOptions&&(d=Object(k.a)(Object(k.a)({},d),{},{singularOptions:e.singularOptions}));else{if(!i.type.startsWith("@"))throw console.error("Unknown type '".concat(i.type,"'")),Error("Unknown type '".concat(i.type,"'"));e.singularOptions&&(d=Object(k.a)(Object(k.a)({},d),{},{singularOptions:e.singularOptions}))}}return{arg:d,clsDefineMap:s}}var dn=function(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),o=n[0],i=n[1],s=Object(a.useState)({}),c=Object(f.a)(s,2),l=c[0],d=c[1];return Object(a.useEffect)((function(){re.a.get(e.commandUrl).then((function(e){var t=function(e){var t={},n=[];return e.argGroups.forEach((function(e){n.push.apply(n,Object(me.a)(e.args.map((function(e){var n=ln(e);return t=Object(k.a)(Object(k.a)({},t),n.clsDefineMap),n.arg}))))})),{args:n,clsDefineMap:t}}(e.data),n=t.args,a=t.clsDefineMap;i(n),d(a)})).catch((function(e){return console.error(e)}))}),[e.commandUrl]),Object(p.jsx)(r.a.Fragment,{children:Object(p.jsxs)(it.a,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"stretch"},children:[Object(p.jsx)(x.a,{sx:{mb:2,display:"flex",flexDirection:"row",alignItems:"center"},children:Object(p.jsx)(pt,{sx:{flexShrink:0},children:"[ ARGUMENT ]"})}),Object(p.jsx)(qt,{commandUrl:e.commandUrl,args:o,clsArgDefineMap:l})]})})},un=n(226),jn=n.n(un),pn="az ",mn=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}})),hn=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}})),fn=Object(Qe.a)(b.a)((function(e){e.theme;return{color:"#5d64cf",fontFamily:"'Work Sans', sans-serif",fontSize:14,fontWeight:400}})),xn=Object(Qe.a)((function(e){return Object(p.jsx)(zt.a,Object(k.a)({expandIcon:Object(p.jsx)(Vt.a,{fontSize:"small",color:"primary"})},e))}))((function(e){e.theme;return{flexDirection:"row-reverse","& .MuiAccordionSummary-expandIconWrapper.Mui-expanded":{transform:"rotate(0deg)"}}})),bn=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).onCommandDialogDisplay=function(){a.setState({displayCommandDialog:!0})},a.onCommandDeleteDialogDisplay=function(){a.setState({displayCommandDeleteDialog:!0})},a.handleCommandDialogClose=function(e){a.setState({displayCommandDialog:!1}),e&&a.props.onUpdateCommand(e)},a.handleCommandDeleteDialogClose=function(e){a.setState({displayCommandDeleteDialog:!1}),e&&a.props.onUpdateCommand(null)},a.onExampleDialogDisplay=function(e){a.setState({displayExampleDialog:!0,exampleIdx:e})},a.handleExampleDialogClose=function(e){a.setState({displayExampleDialog:!1}),e&&a.props.onUpdateCommand(e)},a.state={displayCommandDialog:!1,displayExampleDialog:!1,displayCommandDeleteDialog:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var e,t,n,r,o,i,s=this,c=this.props,l=c.workspaceUrl,d=c.command,u=pn+this.props.command.names.join(" "),j=null===(e=this.props.command.help)||void 0===e?void 0:e.short,m=null===(t=this.props.command.help)||void 0===t||null===(n=t.lines)||void 0===n?void 0:n.join("\n"),h=null!==(r=null===(o=this.props.command.help)||void 0===o?void 0:o.lines)&&void 0!==r?r:[],f=this.props.command.stage,O=this.props.command.version,g=null!==(i=this.props.command.examples)&&void 0!==i?i:[],v="".concat(l,"/CommandTree/Nodes/aaz/")+d.names.slice(0,-1).join("/")+"/Leaves/"+d.names[d.names.length-1],y=this.state,C=y.displayCommandDialog,S=y.displayExampleDialog,k=y.displayCommandDeleteDialog,D=y.exampleIdx;return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch"},children:[Object(p.jsxs)(ot.a,{onDoubleClick:this.onCommandDialogDisplay,elevation:3,sx:{flexGrow:1,display:"flex",flexDirection:"column",p:2},children:[Object(p.jsxs)(it.a,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column",justifyContent:"stretch"},children:[Object(p.jsxs)(x.a,{sx:{mb:2,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(p.jsx)(pt,{sx:{flexShrink:0},children:"[ COMMAND ]"}),Object(p.jsx)(x.a,{sx:{flexGrow:1}}),"Stable"===f&&Object(p.jsx)(bt,{sx:{flexShrink:0},children:"v".concat(O)}),"Preview"===f&&Object(p.jsx)(Ot,{sx:{flexShrink:0},children:"v".concat(O)}),"Experimental"===f&&Object(p.jsx)(gt,{sx:{flexShrink:0},children:"v".concat(O)})]}),Object(p.jsx)(mt,{sx:{mt:1},children:u}),j&&Object(p.jsxs)(ht,{sx:{ml:6,mt:2},children:[" ",j," "]}),!j&&Object(p.jsx)(ft,{sx:{ml:6,mt:2},children:"Please add command short summery!"}),m&&Object(p.jsx)(x.a,{sx:{ml:6,mt:1,mb:1},children:h.map((function(e,t){return Object(p.jsx)(xt,{children:e},t)}))})]}),Object(p.jsx)(st.a,{sx:{display:"flex",flexDirection:"row-reverse",alignContent:"center",justifyContent:"flex-start"},children:Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignContent:"center",justifyContent:"flex-start"},children:[Object(p.jsx)(ge.a,{variant:"contained",size:"small",color:"info",disableElevation:!0,onClick:this.onCommandDialogDisplay,sx:{mr:2},children:Object(p.jsx)(b.a,{variant:"body2",children:"Edit"})}),Object(p.jsx)(ge.a,{variant:"outlined",size:"small",color:"info",onClick:this.onCommandDeleteDialogDisplay,sx:{mr:2},children:Object(p.jsx)(b.a,{variant:"body2",children:"Delete"})}),Object(p.jsx)(ge.a,{variant:"outlined",size:"small",color:"info",sx:{mr:2},disabled:!0,children:Object(p.jsx)(b.a,{variant:"body2",children:"Try"})})]})})]}),Object(p.jsx)(ot.a,{elevation:3,sx:{flexGrow:1,display:"flex",flexDirection:"column",mt:1,p:2},children:Object(p.jsx)(dn,{commandUrl:v})}),Object(p.jsxs)(ot.a,{elevation:3,sx:{flexGrow:1,display:"flex",flexDirection:"column",mt:1,p:2},children:[Object(p.jsxs)(it.a,{sx:{flex:"1 0 auto",display:"flex",flexDirection:"column",alignItems:"stretch"},children:[Object(p.jsx)(x.a,{sx:{mb:2,display:"flex",flexDirection:"row",alignItems:"center"},children:Object(p.jsx)(pt,{sx:{flexShrink:0},children:"[ EXAMPLE ]"})}),g.length>0&&Object(p.jsx)(x.a,{children:g.map((function(e,t){return Object(p.jsxs)(Gt.a,{elevation:0,expanded:!0,onDoubleClick:function(){s.onExampleDialogDisplay(t)},children:[Object(p.jsx)(xn,{id:"example-".concat(t,"-header"),children:Object(p.jsxs)(x.a,{sx:{ml:1,flexGrow:1,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(p.jsx)(Ct,{sx:{flexShrink:0},children:e.name}),Object(p.jsx)(ge.a,{sx:{flexShrink:0,ml:3},startIcon:Object(p.jsx)(jn.a,{color:"info",fontSize:"small"}),onClick:function(){s.onExampleDialogDisplay(t)},children:Object(p.jsx)(fn,{children:"Edit"})})]})}),Object(p.jsx)(Wt.a,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",justifyContent:"flex-start",ml:3,mr:3,paddingTop:0},children:e.commands.map((function(e,n){return Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"flex-start",justifyContent:"flex-start"},children:[Object(p.jsxs)(x.a,{component:"span",sx:{flexShrink:0,display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},children:[Object(p.jsx)(Ft.a,{fontSize:"small"}),Object(p.jsx)(mn,{sx:{flexShrink:0},children:pn})]}),Object(p.jsx)(x.a,{component:"span",sx:{ml:.8},children:Object(p.jsx)(hn,{children:e})})]},"example-".concat(t,"-command-").concat(n))}))})]},"example-".concat(t))}))})]}),Object(p.jsx)(st.a,{sx:{display:"flex",flexDirection:"row-reverse"},children:Object(p.jsx)(ge.a,{variant:"contained",size:"small",color:"info",disableElevation:!0,onClick:function(){return s.onExampleDialogDisplay(void 0)},children:Object(p.jsx)(b.a,{variant:"body2",children:"Add"})})})]})]}),C&&Object(p.jsx)(gn,{open:C,workspaceUrl:l,command:d,onClose:this.handleCommandDialogClose}),S&&Object(p.jsx)(yn,{open:S,workspaceUrl:l,command:d,idx:D,onClose:this.handleExampleDialogClose}),k&&Object(p.jsx)(On,{open:k,workspaceUrl:l,command:d,onClose:this.handleCommandDeleteDialogClose})]})}}]),n}(a.Component);function On(e){var t=a.useState(!1),n=Object(f.a)(t,2),r=n[0],o=n[1],i=a.useState([]),s=Object(f.a)(i,2),c=s[0],l=s[1];a.useEffect((function(){l([]);var t=e.command.resources.map((function(t){var n=btoa(t.id),a=btoa(t.version);return"".concat(e.workspaceUrl,"/Resources/").concat(n,"/V/").concat(a)})).map((function(e){return re.a.get("".concat(e,"/Commands"))}));Promise.all(t).then((function(e){var t=new Set;e.forEach((function(e){e.data.map((function(e){return Cn(e)})).map((function(e){t.add(e.names.join(" "))}))}));var n=[];t.forEach((function(e){return n.push(e)})),n.sort((function(e,t){return e.localeCompare(t)})),l(n)})).catch((function(e){console.error(e.response)}))}),[e.command]);return Object(p.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,children:[Object(p.jsx)(ee.a,{children:"Delete Commands"}),Object(p.jsx)(te.a,{dividers:!0,children:c.map((function(e,t){return Object(p.jsx)(b.a,{variant:"body2",children:"".concat(pn).concat(e)},"command-".concat(t))}))}),Object(p.jsxs)(ne.a,{children:[r&&Object(p.jsx)(x.a,{sx:{width:"100%"},children:Object(p.jsx)(Oe.a,{color:"info"})}),!r&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ge.a,{onClick:function(){e.onClose(!1)},children:"Cancel"}),Object(p.jsx)(ge.a,{onClick:function(){o(!0);var t=e.command.resources.map((function(t){var n=btoa(t.id),a=btoa(t.version);return"".concat(e.workspaceUrl,"/Resources/").concat(n,"/V/").concat(a)})).map((function(e){return re.a.delete(e)}));Promise.all(t).then((function(t){o(!1),e.onClose(!0)})).catch((function(e){o(!1),console.error(e.response)}))},children:"Delete"})]})]})]})}var gn=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a,r,o,i,s,c;return Object(l.a)(this,n),(c=t.call(this,e)).handleModify=function(e){var t=c.state,n=t.name,a=t.stage,r=t.shortHelp,o=t.longHelp,i=c.props,s=i.workspaceUrl,l=i.command;n=n.trim(),r=r.trim(),o=o.trim();var d=n.split(" ").filter((function(e){return e.length>0}));if(c.setState({invalidText:void 0}),d.length<1)c.setState({invalidText:"Field 'Name' is required."});else{for(var u in d){var j=d[u];if(!/^[a-z0-9]+(\-[a-z0-9]+)*$/.test(j))return void c.setState({invalidText:"Invalid Name part: '".concat(j,"'. Supported regular expression is: [a-z0-9]+(-[a-z0-9]+)* ")})}r.length<1&&c.setState({invalidText:"Field 'Short Summery' is required."});var p=null;o.length>1&&(p=o.split("\n").filter((function(e){return e.length>0}))),c.setState({updating:!0});var m="".concat(s,"/CommandTree/Nodes/aaz/")+l.names.slice(0,-1).join("/")+"/Leaves/"+l.names[l.names.length-1];re.a.patch(m,{help:{short:r,lines:p},stage:a}).then((function(e){var t=d.join(" ");if(t===l.names.join(" ")){var n=Cn(e.data);c.setState({updating:!1}),c.props.onClose(n)}else re.a.post("".concat(m,"/Rename"),{name:t}).then((function(e){var t=Cn(e.data);c.setState({updating:!1}),c.props.onClose(t)}))})).catch((function(e){var t;console.error(e.response),(null===(t=e.resource)||void 0===t?void 0:t.message)&&c.setState({invalidText:"ResponseError: ".concat(e.resource.message)}),c.setState({updating:!1})}))}},c.handleClose=function(){c.setState({invalidText:void 0}),c.props.onClose()},c.state={name:c.props.command.names.join(" "),shortHelp:null!==(a=null===(r=c.props.command.help)||void 0===r?void 0:r.short)&&void 0!==a?a:"",longHelp:null!==(o=null===(i=c.props.command.help)||void 0===i||null===(s=i.lines)||void 0===s?void 0:s.join("\n"))&&void 0!==o?o:"",stage:c.props.command.stage,updating:!1},c}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.shortHelp,o=t.longHelp,i=t.invalidText,s=t.updating,c=t.stage;return Object(p.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:this.props.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[Object(p.jsx)(ee.a,{children:"Command"}),Object(p.jsxs)(te.a,{dividers:!0,children:[i&&Object(p.jsxs)(ct.a,{variant:"filled",severity:"error",children:[" ",i," "]}),Object(p.jsx)(lt.a,{required:!0,shrink:!0,sx:{font:"inherit"},children:"Stage"}),Object(p.jsxs)(dt.a,{row:!0,value:c,name:"stage",onChange:function(t){e.setState({stage:t.target.value})},children:[Object(p.jsx)(ut.a,{value:"Stable",control:Object(p.jsx)(jt.a,{}),label:"Stable",sx:{ml:4}}),Object(p.jsx)(ut.a,{value:"Preview",control:Object(p.jsx)(jt.a,{}),label:"Preview",sx:{ml:4}}),Object(p.jsx)(ut.a,{value:"Experimental",control:Object(p.jsx)(jt.a,{}),label:"Experimental",sx:{ml:4}})]}),Object(p.jsx)($.a,{id:"name",label:"Name",type:"text",fullWidth:!0,variant:"standard",value:n,onChange:function(t){e.setState({name:t.target.value})},margin:"normal",required:!0}),Object(p.jsx)($.a,{id:"shortSummery",label:"Short Summery",type:"text",fullWidth:!0,variant:"standard",value:r,onChange:function(t){e.setState({shortHelp:t.target.value})},margin:"normal",required:!0}),Object(p.jsx)($.a,{id:"longSummery",label:"Long Summery",helperText:"Please add long summer in lines.",type:"text",fullWidth:!0,multiline:!0,variant:"standard",value:o,onChange:function(t){e.setState({longHelp:t.target.value})},margin:"normal"})]}),Object(p.jsxs)(ne.a,{children:[s&&Object(p.jsx)(x.a,{sx:{width:"100%"},children:Object(p.jsx)(Oe.a,{color:"info"})}),!s&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ge.a,{onClick:this.handleClose,children:"Cancel"}),Object(p.jsx)(ge.a,{onClick:this.handleModify,children:"Save"})]})]})]})}}]),n}(a.Component),vn=Object(Qe.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Roboto Condensed', sans-serif",fontSize:16,fontWeight:400}})),yn=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a,r;Object(l.a)(this,n),(r=t.call(this,e)).onUpdateExamples=function(e){var t=r.props,n=t.workspaceUrl,a=t.command,o="".concat(n,"/CommandTree/Nodes/aaz/")+a.names.slice(0,-1).join("/")+"/Leaves/"+a.names[a.names.length-1];r.setState({updating:!0}),re.a.patch(o,{examples:e}).then((function(e){var t=Cn(e.data);r.setState({updating:!1}),r.props.onClose(t)})).catch((function(e){var t;console.error(e.response),(null===(t=e.resource)||void 0===t?void 0:t.message)&&r.setState({invalidText:"ResponseError: ".concat(e.resource.message)}),r.setState({updating:!1})}))},r.handleDelete=function(){var e,t=null!==(e=r.props.command.examples)&&void 0!==e?e:[],n=r.props.idx;t=[].concat(Object(me.a)(t.slice(0,n)),Object(me.a)(t.slice(n+1))),r.onUpdateExamples(t)},r.handleModify=function(){var e,t=r.props.command,n=r.state,a=n.name,o=n.exampleCommands,i=null!==(e=t.examples)&&void 0!==e?e:[],s=r.props.idx;if((a=a.trim()).length<1)r.setState({invalidText:"Field 'Name' is required."});else if((o=o.map((function(e){return e.split("\n").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).join(" ").trim()})).filter((function(e){return e.length>0}))).length<1)r.setState({invalidText:"Field 'Commands' is required."});else{var c={name:a,commands:o};i=[].concat(Object(me.a)(i.slice(0,s)),[c],Object(me.a)(i.slice(s+1))),r.onUpdateExamples(i)}},r.handleAdd=function(){var e,t=r.props.command,n=r.state,a=n.name,o=n.exampleCommands,i=null!==(e=t.examples)&&void 0!==e?e:[];if((a=a.trim()).length<1)r.setState({invalidText:"Field 'Name' is required."});else if((o=o.map((function(e){return e.split("\n").map((function(e){return e.trim()})).filter((function(e){return e.length>0})).join(" ").trim()})).filter((function(e){return e.length>0}))).length<1)r.setState({invalidText:"Field 'Commands' is required."});else{var s={name:a,commands:o};i.push(s),r.onUpdateExamples(i)}},r.handleClose=function(){r.setState({invalidText:void 0}),r.props.onClose()},r.onModifyExampleCommand=function(e,t){r.setState((function(n){return Object(k.a)(Object(k.a)({},n),{},{exampleCommands:[].concat(Object(me.a)(n.exampleCommands.slice(0,t)),[e],Object(me.a)(n.exampleCommands.slice(t+1)))})}))},r.onRemoveExampleCommand=function(e){r.setState((function(t){var n=[].concat(Object(me.a)(t.exampleCommands.slice(0,e)),Object(me.a)(t.exampleCommands.slice(e+1)));return 0==n.length&&n.push(""),Object(k.a)(Object(k.a)({},t),{},{exampleCommands:n})}))},r.onAddExampleCommand=function(){r.setState((function(e){return Object(k.a)(Object(k.a)({},e),{},{exampleCommands:[].concat(Object(me.a)(e.exampleCommands),[""])})}))};var o=null!==(a=r.props.command.examples)&&void 0!==a?a:[];if(void 0===r.props.idx)r.state={name:"",exampleCommands:[""],isAdd:!0,invalidText:void 0,updating:!1};else{var i=o[r.props.idx];r.state={name:i.name,exampleCommands:i.commands,isAdd:!1,invalidText:void 0,updating:!1}}return r}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.name,r=t.exampleCommands,o=t.isAdd,i=t.invalidText,s=t.updating;return Object(p.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:this.props.open,sx:{"& .MuiDialog-paper":{width:"80%"}},children:[Object(p.jsx)(ee.a,{children:o?"Add Example":"Modify Example"}),Object(p.jsxs)(te.a,{dividers:!0,children:[i&&Object(p.jsxs)(ct.a,{variant:"filled",severity:"error",children:[" ",i," "]}),Object(p.jsx)($.a,{id:"name",label:"Name",type:"text",fullWidth:!0,variant:"standard",value:n,onChange:function(t){e.setState({name:t.target.value})},margin:"normal",required:!0}),Object(p.jsx)(lt.a,{required:!0,sx:{font:"inherit",mt:1},children:"Commands"}),r.map((function(t,n){return Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",ml:1},children:[Object(p.jsx)(ve.a,{edge:"start",color:"inherit",onClick:function(){return e.onRemoveExampleCommand(n)},"aria-label":"remove",children:Object(p.jsx)(Tt.a,{fontSize:"small"})}),Object(p.jsx)(Pt.a,{id:"command-".concat(n),multiline:!0,value:t,onChange:function(t){e.onModifyExampleCommand(t.target.value,n)},sx:{flexGrow:1},placeholder:"Input a command here.",startAdornment:Object(p.jsx)(Et.a,{position:"start",children:Object(p.jsx)(vn,{children:pn})})})]},n)})),Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",ml:1},children:[Object(p.jsx)(ve.a,{edge:"start",color:"inherit",onClick:this.onAddExampleCommand,"aria-label":"remove",children:Object(p.jsx)(Mt.a,{fontSize:"small"})}),Object(p.jsx)(vn,{sx:{flexShrink:0},children:" One more command"})]})]}),Object(p.jsxs)(ne.a,{children:[s&&Object(p.jsx)(x.a,{sx:{width:"100%"},children:Object(p.jsx)(Oe.a,{color:"info"})}),!s&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ge.a,{onClick:this.handleClose,children:"Cancel"}),!o&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ge.a,{onClick:this.handleDelete,children:"Delete"}),Object(p.jsx)(ge.a,{onClick:this.handleModify,children:"Save"})]}),o&&Object(p.jsx)(ge.a,{onClick:this.handleAdd,children:"Add"})]})]})]})}}]),n}(a.Component),Cn=function(e){var t;return{id:"command:"+e.names.join("/"),names:e.names,help:e.help,stage:null!==(t=e.stage)&&void 0!==t?t:"Stable",examples:e.examples,resources:e.resources,version:e.version}},Sn=bn,kn=(Object(S.a)(x.a)((function(e){var t=e.theme;return Object(fe.a)({},t.breakpoints.up("sm"),{height:"12vh"})})),Object(S.a)(x.a)((function(e){e.theme;return{height:"6vh"}})),a.forwardRef((function(e,t){return Object(p.jsx)(xe.a,Object(k.a)({direction:"up",ref:t},e))}))),Dn=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).loadWorkspace=function(){var e=Object(he.a)(pe.a.mark((function e(t){var n,r,o,i,s,c,l,d,u,j,p,m,h,f,x,b;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.workspaceUrl,void 0===t&&(t=a.state.selected),e.prev=2,e.next=5,re.a.get(n);case 5:if(r=e.sent,o={},i={},s=function(e){var t=Cn(e);return o[t.id]=t,{id:t.id,names:Object(me.a)(t.names)}},c=function e(t){var n,a,r=wt(t);i[r.id]=r;var o={id:r.id,names:Object(me.a)(r.names),canDelete:r.canDelete};if("object"===typeof t.commands&&null!==t.commands){for(var c in o.leaves=[],t.commands){var l=s(t.commands[c]);o.leaves.push(l)}o.leaves.sort((function(e,t){return e.id.localeCompare(t.id)})),o.leaves.length>0&&(o.canDelete=!1)}if("object"===typeof t.commandGroups&&null!==t.commandGroups){for(var d in o.nodes=[],t.commandGroups){var u=e(t.commandGroups[d]);o.nodes.push(u),u.canDelete||(o.canDelete=!1)}o.nodes.sort((function(e,t){return e.id.localeCompare(t.id)}))}return(null!==(n=null===(a=o.leaves)||void 0===a?void 0:a.length)&&void 0!==n?n:0)>1&&(o.canDelete=!1),r.canDelete=o.canDelete,o},l=[],r.data.commandTree.commandGroups){for(u in d=r.data.commandTree.commandGroups)l.push(c(d[u]));l.sort((function(e,t){return e.id.localeCompare(t.id)}))}if(j=null,null!=t)if(t.id.startsWith("command:"))if((p=t.id)in o)j=o[p];else{for(p="group:"+p.slice(8),m=p.split("/");m.length>1&&!(p in i);)m=m.slice(0,-1),p=m.join("/");p in i&&(j=i[p])}else if(t.id.startsWith("group:")){for(h=t.id,f=h.split("/");f.length>1&&!(h in i);)f=f.slice(0,-1),h=f.join("/");h in i&&(j=i[h])}null===j&&l.length>0&&(j=i[l[0].id]),a.setState((function(e){var t=new Set;for(var n in e.expanded.forEach((function(e){e in i&&t.add(e)})),i)n in e.commandGroupMap||t.add(n);return Object(k.a)(Object(k.a)({},e),{},{plane:r.data.plane,commandTree:l,selected:j,commandMap:o,commandGroupMap:i,expanded:t})})),j&&((x=j.id).startsWith("command:")&&(x=x.replace("command:","group:").split("/").slice(0,-1).join("/")),b=x.split("/"),a.setState((function(e){var t=new Set(e.expanded);return b.forEach((function(e,n){t.add(b.slice(0,n+1).join("/"))})),Object(k.a)(Object(k.a)({},e),{},{expanded:t})}))),0===l.length&&a.showSwaggerResourcePicker(),e.next=23;break;case 20:return e.prev=20,e.t0=e.catch(2),e.abrupt("return",console.error(e.t0));case 23:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(t){return e.apply(this,arguments)}}(),a.showSwaggerResourcePicker=function(){a.setState({showSwaggerResourcePicker:!0})},a.handleSwaggerResourcePickerClose=function(e){e&&a.loadWorkspace(),a.setState({showSwaggerResourcePicker:!1})},a.handleBackToHomepage=function(){window.location.href="/?#/workspace"},a.handleGenerate=function(){a.setState({showExportDialog:!0})},a.handleGenerationClose=function(e){a.setState({showExportDialog:!1})},a.handleCommandTreeSelect=function(e){e.startsWith("command:")?a.setState((function(t){var n=t.commandMap[e];return Object(k.a)(Object(k.a)({},t),{},{selected:n})})):e.startsWith("group:")&&a.setState((function(t){var n=t.commandGroupMap[e];return Object(k.a)(Object(k.a)({},t),{},{selected:n})}))},a.handleCommandGroupUpdate=function(e){a.loadWorkspace(e)},a.handleCommandUpdate=function(e){a.loadWorkspace(e)},a.handleCommandTreeToggle=function(e){var t=new Set(e);a.setState({expanded:t})},a.state={name:a.props.params.workspaceName,workspaceUrl:"/AAZ/Editor/Workspaces/".concat(a.props.params.workspaceName),plane:"",selected:null,expanded:new Set,commandMap:{},commandGroupMap:{},commandTree:[],showSwaggerResourcePicker:!1,showExportDialog:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadWorkspace()}},{key:"render",value:function(){var e=this.state,t=e.showSwaggerResourcePicker,n=e.showExportDialog,r=e.plane,o=e.name,i=e.commandTree,s=e.selected,c=e.workspaceUrl,l=e.expanded,d=[];return l.forEach((function(e){d.push(e)})),Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(Be,{workspaceName:o,onHomePage:this.handleBackToHomepage,onGenerate:this.handleGenerate}),Object(p.jsxs)(x.a,{sx:{display:"flex"},children:[Object(p.jsxs)(be.a,{variant:"permanent",sx:Object(fe.a)({width:300,flexShrink:0},"& .MuiDrawer-paper",{width:300,boxSizing:"border-box"}),children:[Object(p.jsx)(M.a,{}),null!=s&&Object(p.jsx)(rt,{commandTreeNodes:i,onSelected:this.handleCommandTreeSelect,onToggle:this.handleCommandTreeToggle,onAdd:this.showSwaggerResourcePicker,selected:s.id,expanded:d})]}),Object(p.jsxs)(x.a,{component:"main",sx:{flexGrow:1,p:1},children:[Object(p.jsx)(M.a,{sx:{flexShrink:0}}),null!=s&&s.id.startsWith("group:")&&Object(p.jsx)(It,{workspaceUrl:c,commandGroup:s,onUpdateCommandGroup:this.handleCommandGroupUpdate}),null!=s&&s.id.startsWith("command:")&&Object(p.jsx)(Sn,{workspaceUrl:c,command:s,onUpdateCommand:this.handleCommandUpdate})]})]}),Object(p.jsx)(Q.a,{fullScreen:!0,open:t,onClose:this.handleSwaggerResourcePickerClose,TransitionComponent:kn,children:Object(p.jsx)(Ve,{plane:r,workspaceName:o,onClose:this.handleSwaggerResourcePickerClose})}),n&&Object(p.jsx)(wn,{workspaceUrl:c,open:n,onClose:this.handleGenerationClose})]})}}]),n}(a.Component);function wn(e){var t=a.useState(!1),n=Object(f.a)(t,2),r=n[0],o=n[1],i=a.useState(void 0),s=Object(f.a)(i,2),c=s[0],l=s[1];return Object(p.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,children:[Object(p.jsx)(ee.a,{children:"Export workspace command models to AAZ Repo"}),Object(p.jsx)(te.a,{children:c&&Object(p.jsxs)(oe.a,{variant:"filled",severity:"error",children:[" ",c," "]})}),Object(p.jsxs)(ne.a,{children:[r&&Object(p.jsx)(x.a,{sx:{width:"100%"},children:Object(p.jsx)(Oe.a,{color:"info"})}),!r&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ge.a,{onClick:function(){e.onClose(!1)},children:"Cancel"}),Object(p.jsx)(ge.a,{onClick:function(){var t="".concat(e.workspaceUrl,"/Generate");o(!0),re.a.post(t).then((function(t){o(!1),e.onClose(!0)})).catch((function(e){var t;console.error(e.response),(null===(t=e.resource)||void 0===t?void 0:t.message)&&l("ResponseError: ".concat(e.resource.message)),o(!1)}))},children:"Confirm"})]})]})]})}var In=function(e){var t=Object(c.h)();return Object(p.jsx)(Dn,Object(k.a)({params:t},e))},Gn=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsx)(a.Fragment,{children:Object(p.jsx)(A,{pageName:"Commands"})})}}]),n}(a.Component),Wn=T(Gn),Pn=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsx)(a.Fragment,{children:Object(p.jsx)(c.a,{})})}}]),n}(a.Component),En=T(Pn),zn=Object(J.a)(),Nn=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).loadModules=function(){re.a.get("/CLI/Az/"+a.props.repo+"/Modules").then((function(e){var t=e.data.map((function(e){return{name:e.name,folder:e.folder,url:e.url}}));a.setState({options:t})})).catch((function(e){return console.error(e.response)}))},a.handleDialogSubmit=function(e){if(!0===e.currentTarget.checkValidity()){var t=a.state.createDialogValue.name;re.a.post("/CLI/Az/"+a.props.repo+"/Modules",{name:t}).then((function(e){var t=e.data,n={name:t.name,folder:t.folder,url:t.url};setTimeout((function(){a.onValueUpdated(n)})),a.handleDialogClose()})).catch((function(e){console.error(e.response)}))}},a.handleDialogClose=function(){a.setState({createDialogValue:{name:"",folder:null,url:null},openDialog:!1})},a.onValueUpdated=function(e){a.setState({value:e}),e.url&&(window.location.href="/?#/Generation/".concat(a.props.repo,"/").concat(e.name))},a.state={options:[],value:null,openDialog:!1,createDialogValue:{name:"",folder:null,url:null}},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.loadModules()}},{key:"render",value:function(){var e=this,t=this.state,n=t.options,r=t.value,o=t.openDialog,i=t.createDialogValue,s=this.props,c=s.repo,l=s.name;return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(X.a,{id:c+"-module-select",value:r,sx:{width:280},options:n,autoHighlight:!0,onChange:function(t,n){"string"===typeof n?setTimeout((function(){e.setState({openDialog:!0,createDialogValue:{name:n,url:null,folder:null}})})):n&&n.inputValue?e.setState({openDialog:!0,createDialogValue:{name:n.inputValue,url:null,folder:null}}):e.onValueUpdated(n)},filterOptions:function(e,t){var n=zn(e,t);return""!==t.inputValue&&-1===e.findIndex((function(e){return e.name===t.inputValue}))&&n.push({inputValue:t.inputValue,title:'Create "'.concat(t.inputValue,'"')}),n},getOptionLabel:function(e){return"string"===typeof e?e:e.title?e.title:e.name},renderOption:function(e,t){var n=t&&t.title?t.title:t.name;return Object(p.jsx)(U.a,Object(k.a)(Object(k.a)({component:"li"},e),{},{children:n}))},selectOnFocus:!0,clearOnBlur:!0,renderInput:function(e){return Object(p.jsx)($.a,Object(k.a)(Object(k.a)({},e),{},{label:l,inputProps:Object(k.a)(Object(k.a)({},e.inputProps),{},{autoComplete:"new-password"})}))}}),Object(p.jsx)(Q.a,{open:o,onClose:this.handleDialogClose,children:Object(p.jsxs)(U.a,{component:"form",onSubmit:this.handleDialogSubmit,children:[Object(p.jsx)(ee.a,{children:"Create module in Azure CLI"+c==="Extension"?" Extension":""}),Object(p.jsx)(te.a,{children:Object(p.jsx)($.a,{autoFocus:!0,margin:"normal",id:"name",required:!0,value:i.name,onChange:function(t){e.setState({createDialogValue:Object(k.a)(Object(k.a)({},i),{},{name:t.target.value})})},label:"Module Name",type:"text",variant:"standard"})}),Object(p.jsxs)(ne.a,{children:[Object(p.jsx)(oe.b,{onClick:this.handleDialogClose,children:"Cancel"}),Object(p.jsx)(oe.b,{type:"submit",color:"success",children:"Create"})]})]})})]})}}]),n}(a.Component),Tn=Nn,Rn=Object(S.a)(x.a)((function(e){e.theme;return{height:"6vh"}})),Mn=Object(S.a)(x.a)((function(e){e.theme;return{width:"3vh"}})),An=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(A,{pageName:"Generation"}),Object(p.jsx)(_,{children:Object(p.jsxs)(x.a,{sx:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center"},children:[Object(p.jsx)(x.a,{sx:{flexGrow:3}}),Object(p.jsxs)(x.a,{sx:{flexGrow:3,flexShrink:0,display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[Object(p.jsx)(b.a,{variant:"h3",gutterBottom:!0,children:"Please select a CLI Module"}),Object(p.jsx)(Rn,{}),Object(p.jsxs)(x.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(p.jsx)(Tn,{repo:"Main",name:"Azure CLI Module"}),Object(p.jsx)(Mn,{}),Object(p.jsx)(b.a,{variant:"h6",gutterBottom:!0,children:"Or"}),Object(p.jsx)(Mn,{}),Object(p.jsx)(Tn,{repo:"Extension",name:"Azure CLI Extension Module"})]})]}),Object(p.jsx)(x.a,{sx:{flexGrow:5}})]})})]})}}]),n}(a.Component),Fn=An,Un=n(680),Vn=n(727);var Ln=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.profiles,a=e.onChange;return Object(p.jsx)(Un.a,{orientation:"vertical",variant:"scrollable",value:t,onChange:a,"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},children:n.map((function(e,t){return Object(p.jsx)(Vn.a,Object(k.a)({label:e},{id:"vertical-tab-".concat(n=t),"aria-controls":"vertical-tabpanel-".concat(n)}),t);var n}))})}}]),n}(a.Component),_n=Ln,Hn=n(240),qn=n(675),Bn=n(232),Kn=n.n(Bn),Zn=n(230),Yn=n.n(Zn),Jn=n(231),Xn=n.n(Jn),$n=function(e){return"CommandGroup"===e.type?Object(p.jsx)(Yn.a,{}):Object(p.jsx)(Xn.a,{})},Qn=n(111),ea=n.n(Qn),ta=n(708),na=function(e){var t=e.node.data,n=t.versions,a=24*e.depth;return Object(p.jsxs)("div",{className:"tree-node ".concat(ea.a.root," ").concat(e.isSelected?ea.a.isSelected:""),style:{paddingInlineStart:a},children:[Object(p.jsx)("div",{className:"".concat(ea.a.expandIconWrapper," ").concat(e.isOpen?ea.a.isOpen:""),children:e.node.droppable&&Object(p.jsx)("div",{onClick:function(t){t.stopPropagation(),e.onToggle(e.node.id)},children:Object(p.jsx)(Kn.a,{})})}),"Command"===t.type&&Object(p.jsx)("div",{children:Object(p.jsx)(we.a,{color:"primary",size:"small",checked:e.isSelected,onClick:function(){return e.onSelect(e.node)}})}),Object(p.jsx)("div",{children:Object(p.jsx)($n,{type:t.type})}),Object(p.jsx)("div",{className:ea.a.labelGridItem,children:Object(p.jsx)(b.a,{variant:"inherit",children:e.node.text})}),Object(p.jsx)("div",{children:e.isSelected&&Object(p.jsx)(ta.a,{sx:{m:1,minWidth:80},children:Object(p.jsx)(qn.a,{defaultValue:t.versionIndex,inputProps:{name:"version",id:"uncontrolled-native"},onChange:function(t){if(n){var a=n[t.target.value];e.onChange(e.node,a)}},children:null===n||void 0===n?void 0:n.map((function(e,t){return Object(p.jsx)("option",{value:t,children:e},t)}))},t.versionIndex)})})]})},aa=n(185),ra=n.n(aa),oa=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.treeData,n=e.selectedNodes,a=e.onSelect,r=e.onChange;return Object(p.jsx)(Hn.a,{tree:t,rootId:0,render:function(e,t){var o=t.depth,i=t.isOpen,s=t.onToggle;return Object(p.jsx)(na,{node:e,depth:o,isOpen:i,isSelected:!!n.find((function(t){return t.id===e.id})),onToggle:s,onSelect:a,onChange:r})},onDrop:function(){},classes:{root:ra.a.treeRoot,dropTarget:ra.a.dropTarget},initialOpen:!0})}}]),n}(a.Component),ia=oa,sa=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this.props,t=e.moduleName,n=e.onHomePage,r=e.onGenerate;return Object(p.jsx)(a.Fragment,{children:Object(p.jsx)(R.a,{sx:{position:"fixed",zIndex:function(e){return e.zIndex.drawer+1}},children:Object(p.jsxs)(M.a,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",height:64},children:[Object(p.jsxs)(ve.a,{color:"inherit",onClick:n,"aria-label":"home",sx:{mr:2,flexShrink:0},children:[Object(p.jsx)(He.a,{sx:{mr:2}}),Object(p.jsx)(b.a,{variant:"h6",component:"div",color:"inherit",sx:{mr:2},children:"GENERATION"})]}),Object(p.jsx)(b.a,{variant:"h5",component:"div",color:"inherit",children:t}),Object(p.jsx)(U.a,{sx:{flexGrow:1}}),Object(p.jsx)(U.a,{sx:{flexShrink:0},children:Object(p.jsx)(Le.a,{title:"Generate CLI Commands",children:Object(p.jsx)(ge.a,{variant:"outlined",color:"inherit",onClick:r,children:"Generate"})})})]})})})}}]),n}(a.Component),ca=sa,la=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(e){var a;return Object(l.a)(this,n),(a=t.call(this,e)).initialModuleEditor=function(){re.a.get("/CLI/Az/Profiles").then((function(e){a.setState({profiles:e.data},(function(){a.loadCommandTree()}))})).catch((function(e){console.error(e.response)}))},a.loadCommandTree=function(){re.a.get("/AAZ/Specs/CommandTree/Nodes/aaz").then((function(e){if(e.data){var t={};t.az=e.data,t.az.names=["az"];a.parseCommandTree(0,0,t).then((function(){a.setState({treeData:a.state.initialTreeData},(function(){a.loadLocalCommands()}))}))}})).catch((function(e){console.error(e.response)}))},a.loadLocalCommands=function(){re.a.get("/CLI/Az/".concat(a.state.repoName,"/Modules/").concat(a.state.moduleName)).then((function(e){a.setState({toBeGenerated:e.data.profiles},(function(){var e=a.state.treeData.filter((function(e){return"Command"===e.data.type})).filter((function(e){return a.isGenerated(e)}));a.setState({selectedNodes:e})}))})).catch((function(e){console.error(e.response)}))},a.parseCommandTree=function(e,t,n){if(!n)return Promise.resolve();var r=Object.keys(n).map((function(r){a.setState({currentIndex:a.state.currentIndex+1});var o={id:a.state.currentIndex,parent:t,text:r,droppable:!0,data:{type:"CommandGroup",versions:[],versionIndex:-1}};a.state.initialTreeData.push(o);var i=a.state.currentIndex,s=a.parseCommandTree(e+1,a.state.currentIndex,n[r].commandGroups),c=n[r].commands;if(!c)return s;var l=Object.keys(c).map((function(e){a.setState({currentIndex:a.state.currentIndex+1});var t=[];c[e].versions.map((function(e){return t.push(e.name)}));var n={id:a.state.currentIndex,parent:i,text:e,droppable:!1,data:{type:"Command",versions:t,versionIndex:0}};a.state.initialTreeData.push(n)}));return Promise.all([s].concat(Object(me.a)(l)))}));return Promise.all(r)},a.getNamePath=function(e){for(var t=[e.text],n=e.parent;0!==n;){var r=a.state.treeData[Number(n)-1];t.unshift(r.text),n=r.parent}return t.slice(1)},a.getProfileEntry=function(){var e=a.state.profiles[a.state.profileIndex];return a.state.toBeGenerated[e]},a.isGenerated=function(e){var t=a.getNamePath(e),n=a.getProfileEntry();try{t.slice(0,-1).forEach((function(e){n=n.commandGroups[e]}));var r=n.commands[e.text].version;e.data.versionIndex=e.data.versions.indexOf(r)}catch(o){return!1}return!0},a.refreshVersionInfo=function(){a.state.treeData.forEach((function(e){e.data.versionIndex=0}))},a.insertLeaf=function(e,t,n){var r=a.getProfileEntry();e.split("/").forEach((function(e){r=r.commandGroups[e]})),re.a.post("/CLI/Az/AAZ/Specs/CommandTree/Nodes/aaz/".concat(e,"/Leaves/").concat(t,"/Versions/").concat(n,"/Transfer")).then((function(e){var n=e.data;if(r.hasOwnProperty("commands")){var a=r.commands;a[t]=n,r.commands=a}else{var o={};o[t]=n,r.commands=o}})).catch((function(e){return console.log(e)}))},a.removeNodes=function(e){var t=e[e.length-1],n=a.getProfileEntry();return e.slice(0,-1).forEach((function(e){n=n.commandGroups[e]})),delete n.commandGroups[t],0===Object.keys(n.commandGroups).length&&(delete n.commandGroups,!0)},a.handleBackToHomepage=function(){window.location.href="/?#/generation"},a.handleGenerate=function(){a.setState({showGenerateDialog:!0})},a.handleGenerationClose=function(e){a.setState({showGenerateDialog:!1})},a.handleProfileChange=function(e,t){a.setState({profileIndex:t},(function(){a.refreshVersionInfo();var e=a.state.treeData.filter((function(e){return"Command"===e.data.type})).filter((function(e){return a.isGenerated(e)}));a.setState({selectedNodes:e})}))},a.handleSelect=function(e){if(a.state.selectedNodes.find((function(t){return t.id===e.id}))){a.setState({selectedNodes:a.state.selectedNodes.filter((function(t){return t.id!==e.id}))});var t=a.getNamePath(e),n=a.getProfileEntry();if(t.slice(0,-1).forEach((function(e){n=n.commandGroups[e]})),delete n.commands[e.text],0===Object.keys(n.commands).length){delete n.commands;for(var r=t.length-1;r>0&&a.removeNodes(t.slice(0,r));r--);}}else{a.state.selectedNodes.push(e);var o=a.getNamePath(e);a.prepareNodes(o).then((function(){var t=o.slice(0,-1).join("/"),n=a.state.treeData[Number(e.id)-1],r=n.data.versionIndex,i=btoa(n.data.versions[r]);a.insertLeaf(t,e.text,i)}))}},a.handleVersionChange=function(e,t){var n=a.state.treeData[Number(e.id)-1];n.data.versionIndex=n.data.versions.indexOf(t);var r=a.getNamePath(e),o=a.getProfileEntry();r.slice(0,-1).forEach((function(e){o=o.commandGroups[e]})),delete o.commands[e.text];var i=r.slice(0,-1).join("/"),s=btoa(t);a.insertLeaf(i,e.text,s)},a.state={repoName:a.props.params.repoName,moduleName:a.props.params.moduleName,profiles:[],profileIndex:0,currentIndex:0,initialTreeData:[],treeData:[],toBeGenerated:{},selectedNodes:[],showGenerateDialog:!1},a}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.initialModuleEditor()}},{key:"prepareNodes",value:function(){var e=Object(he.a)(pe.a.mark((function e(t){var n,a,r;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.getProfileEntry(),a=pe.a.mark((function e(a){var r,o;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t[a],o=t.slice(0,a+1).join("/"),e.next=4,re.a.post("/CLI/Az/AAZ/Specs/CommandTree/Nodes/aaz/".concat(o,"/Transfer")).then((function(e){var t=e.data;if(n.hasOwnProperty("commandGroups"))if(n.commandGroups.hasOwnProperty(r))n=n.commandGroups[r];else{var a=n.commandGroups;a[r]=t,n.commandGroups=a,n=n.commandGroups[r]}else{var o={};o[r]=t,n.commandGroups=o,n=n.commandGroups[r]}})).catch((function(e){return console.log(e)}));case 4:case"end":return e.stop()}}),e)})),r=0;case 3:if(!(r<t.length-1)){e.next=8;break}return e.delegateYield(a(r),"t0",5);case 5:r++,e.next=3;break;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.moduleName,n=e.showGenerateDialog;return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ca,{moduleName:t,onHomePage:this.handleBackToHomepage,onGenerate:this.handleGenerate}),Object(p.jsxs)(x.a,{sx:{display:"flex"},children:[Object(p.jsxs)(be.a,{variant:"permanent",sx:Object(fe.a)({width:300,flexShrink:0},"& .MuiDrawer-paper",{width:300,boxSizing:"border-box"}),children:[Object(p.jsx)(M.a,{}),Object(p.jsx)(_n,{value:this.state.profileIndex,profiles:this.state.profiles,onChange:this.handleProfileChange})]}),Object(p.jsxs)(x.a,{component:"main",sx:{flexGrow:1,p:1},children:[Object(p.jsx)(M.a,{sx:{flexShrink:0}}),0!==this.state.treeData.length&&Object(p.jsx)(ia,{treeData:this.state.treeData,selectedNodes:this.state.selectedNodes,onSelect:this.handleSelect,onChange:this.handleVersionChange})]})]}),n&&Object(p.jsx)(da,{url:"/CLI/Az/".concat(this.state.repoName,"/Modules/").concat(this.state.moduleName),data:{profiles:this.state.toBeGenerated},open:!0,onClose:this.handleGenerationClose})]})}}]),n}(a.Component);function da(e){var t=a.useState(!1),n=Object(f.a)(t,2),r=n[0],o=n[1],i=a.useState(void 0),s=Object(f.a)(i,2),c=s[0],l=s[1];return Object(p.jsxs)(Q.a,{disableEscapeKeyDown:!0,open:e.open,children:[Object(p.jsx)(ee.a,{children:"Generate CLI commands to local disk"}),Object(p.jsx)(te.a,{children:c&&Object(p.jsxs)(oe.a,{variant:"filled",severity:"error",children:[" ",c," "]})}),Object(p.jsxs)(ne.a,{children:[r&&Object(p.jsx)(x.a,{sx:{width:"100%"},children:Object(p.jsx)(Oe.a,{color:"info"})}),!r&&Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(ge.a,{onClick:function(){e.onClose(!1)},children:"Cancel"}),Object(p.jsx)(ge.a,{onClick:function(){o(!0),re.a.put(e.url,e.data).then((function(){o(!1),e.onClose(!0)})).catch((function(e){var t;console.error(e.response),(null===(t=e.resource)||void 0===t?void 0:t.message)&&l("ResponseError: ".concat(e.resource.message)),o(!1)}))},children:"Confirm"})]})]})]})}var ua=function(e){var t=Object(c.h)();return Object(p.jsx)(la,Object(k.a)({params:t},e))},ja=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(p.jsxs)(a.Fragment,{children:[Object(p.jsx)(A,{pageName:"Documents"}),Object(p.jsx)(c.a,{})]})}}]),n}(a.Component),pa=T(ja),ma=n(728),ha=n(729),fa=n(730),xa=n(731),ba=n(732),Oa=n(677),ga=function(e){Object(u.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).onNodeSelected=function(t,n){"string"===typeof n&&e.props.onSelected(n)},e}return Object(d.a)(n,[{key:"render",value:function(){var e=function e(t){var n=t.title;return Object(p.jsx)(Ze.a,{nodeId:t.id,label:n,color:"inherit",children:Array.isArray(t.nodes)?t.nodes.map((function(t){return e(t)})):null},t.id)};return Object(p.jsx)(Ke.a,{defaultCollapseIcon:Object(p.jsx)(Je.a,{}),defaultExpandIcon:Object(p.jsx)($e.a,{}),onNodeSelect:this.onNodeSelected,selected:this.props.selected,expanded:this.props.expanded,sx:{flexGrow:1,overflowY:"auto",p:3},children:this.props.nodes.map((function(t){return e(t)}))})}}]),n}(a.Component),va=function e(t){var n;return{id:t.id,title:t.title,file:t.file,nodes:null===(n=t.pages)||void 0===n?void 0:n.map((function(t){return e(t)}))}},ya=ga,Ca=n(682),Sa=n(676),ka=n(241);function Da(e){var t,n=a.useState(void 0),r=Object(f.a)(n,2),o=r[0],i=r[1],s=a.useState([]),c=Object(f.a)(s,2),l=c[0],d=c[1],u=a.useState(void 0),j=Object(f.a)(u,2),m=j[0],h=j[1],O=a.useState([]),g=Object(f.a)(O,2),v=g[0],y=g[1],S=function(e){i(e),function(e){re.a.get("/Docs/Index/".concat(e)).then((function(e){if(204!==e.status){var t=e.data;h(t)}})).catch((function(e){return console.error(e.response)}))}(e)};a.useEffect((function(){e.params.docId&&S(e.params.docId)}),[e.params.docId]);var D=function(){var e=Object(he.a)(pe.a.mark((function e(){var t,n,a;return pe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.a.get("/Docs/Index");case 3:return t=e.sent,n=t.data,a=n.map((function(e){return va(e)})),e.abrupt("return",a);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();return a.useEffect((function(){D().then((function(t){if(t){var n=[],a=function e(t){t.nodes&&(n.push(t.id),t.nodes.forEach((function(t){return e(t)})))};t.forEach((function(e){return a(e)})),d(t),y(n),!e.params.docId&&t.length>0&&S(t[0].id)}}))}),[]),Object(p.jsx)(a.Fragment,{children:Object(p.jsxs)(x.a,{sx:{display:"flex"},children:[Object(p.jsxs)(be.a,{variant:"permanent",sx:(t={width:300,flexShrink:0},Object(fe.a)(t,"& .MuiDrawer-paper",{width:300,boxSizing:"border-box"}),Object(fe.a)(t,"zIndex",(function(e){return e.zIndex.appBar-1})),t),children:[Object(p.jsx)(M.a,{}),o&&l.length>0&&Object(p.jsx)(ya,{nodes:l,selected:o,onSelected:S,expanded:v})]}),Object(p.jsxs)(F.a,{sx:{flexGrow:1},children:[Object(p.jsx)(M.a,{sx:{flexShrink:0}}),Object(p.jsx)(x.a,{sx:{pt:4,pb:20},children:m&&Object(p.jsx)(Oa.a,{children:m,remarkPlugins:[ka.a],components:{p:function(e){return Object(p.jsx)(x.a,{sx:{mt:2},children:Object(p.jsx)(Wa,{children:e.children})})},h1:function(e){return Object(p.jsx)(x.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:2,mb:2},children:Object(p.jsx)(wa,{children:e.children})})},h2:function(e){return Object(p.jsx)(x.a,{sx:{mt:6,mb:2},children:Object(p.jsx)(Ia,{children:e.children})})},h3:function(e){return Object(p.jsx)(x.a,{sx:{mt:4,mb:4},children:Object(p.jsx)(Ga,{children:e.children})})},ul:function(e){return Object(p.jsx)(x.a,{sx:{listStyleType:e.depth<1?"disc":"circle",p:1,ml:4},children:e.children})},li:function(e){return Object(p.jsx)(b.a,{component:"li",fontSize:15,fontWeight:600,children:e.children})},code:function(e){var t=/language-(\w+)/.exec(e.className||"");return!e.inline&&t?Object(p.jsx)(ot.a,{variant:"outlined",sx:{mt:3,ml:2,mr:2,paddingLeft:1,paddingRight:1},children:Object(p.jsx)(Ca.a,{style:Sa.a,language:t[1],PreTag:"div",children:e.children})}):Object(p.jsx)("code",Object(k.a)({className:e.className},e))},img:function(e){return Object(p.jsx)(x.a,{component:"span",sx:{display:"flex",alignItems:"center",justifyContent:"center",mt:2,mb:2,ml:2,p:2},children:Object(p.jsx)("img",{alt:e.alt,src:e.src,title:e.title,style:{maxWidth:"95%"}})})},table:function(e){return Object(p.jsx)(x.a,{sx:{display:"flex",alignItems:"center",justifyContent:"center",p:2},children:Object(p.jsx)(ma.a,{component:ot.a,variant:"outlined",children:Object(p.jsx)(ha.a,{sx:{minWidth:400},children:e.children})})})},thead:function(e){return Object(p.jsx)(fa.a,{children:e.children})},tr:function(e){return Object(p.jsx)(xa.a,{sx:{"&:last-child td":{border:0}},children:e.children})},th:function(e){return Object(p.jsx)(ba.a,{children:e.children})},td:function(e){return Object(p.jsx)(ba.a,{children:e.children})},a:function(e){return Object(p.jsx)(C.a,{href:e.href,children:e.children})}}})})]})]})})}var wa=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:36,fontWeight:600}})),Ia=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:20,fontWeight:600,marginTop:16}})),Ga=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:18,fontWeight:600}})),Wa=Object(S.a)(b.a)((function(e){return{color:e.theme.palette.primary.main,fontFamily:"'Work Sans', sans-serif",fontSize:16,fontWeight:400}})),Pa=function(e){var t=Object(c.h)();return Object(p.jsx)(Da,Object(k.a)({params:t},e))};i.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(s.a,{children:Object(p.jsx)(c.d,{children:Object(p.jsxs)(c.b,{path:"/",element:Object(p.jsx)(h,{}),children:[Object(p.jsx)(c.b,{index:!0,element:Object(p.jsx)(K,{})}),Object(p.jsx)(c.b,{path:"HomePage",element:Object(p.jsx)(K,{})}),Object(p.jsxs)(c.b,{path:"Workspace",element:Object(p.jsx)(Y,{}),children:[Object(p.jsx)(c.b,{index:!0,element:Object(p.jsx)(ue,{})}),Object(p.jsx)(c.b,{path:"Instruction",element:Object(p.jsx)(ue,{})}),Object(p.jsx)(c.b,{path:":workspaceName",element:Object(p.jsx)(In,{})})]}),Object(p.jsx)(c.b,{path:"Commands",element:Object(p.jsx)(Wn,{})}),Object(p.jsxs)(c.b,{path:"Generation",element:Object(p.jsx)(En,{}),children:[Object(p.jsx)(c.b,{index:!0,element:Object(p.jsx)(Fn,{})}),Object(p.jsx)(c.b,{path:"Instruction",element:Object(p.jsx)(Fn,{})}),Object(p.jsx)(c.b,{path:":repoName/:moduleName",element:Object(p.jsx)(ua,{})})]}),Object(p.jsxs)(c.b,{path:"Documents",element:Object(p.jsx)(pa,{}),children:[Object(p.jsx)(c.b,{index:!0,element:Object(p.jsx)(Pa,{})}),Object(p.jsx)(c.b,{path:":docId",element:Object(p.jsx)(Pa,{})})]})]})})})}),document.getElementById("root"))}},[[588,1,2]]]);
//# sourceMappingURL=main.b022345d.chunk.js.map